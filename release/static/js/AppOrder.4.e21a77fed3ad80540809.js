webpackJsonp([4],{"++6+":function(e,t,s){e.exports=s.p+"static/img/005.bb17b7e.png"},"0y93":function(e,t){},"1Jsg":function(e,t,s){e.exports=s.p+"static/img/006.a81724e.png"},"40Bx":function(e,t,s){e.exports=s.p+"static/img/010.18a9f49.png"},B8jr:function(e,t){},BFOb:function(e,t,s){e.exports=s.p+"static/img/008.1fcbced.png"},CHm6:function(e,t,s){"use strict";var o=s("cfO4"),n=s.n(o),r=s("FY0F"),i=s.n(r),a=s("tT1C"),c=s.n(a),d=s("kkZd"),u=s.n(d),l=s("MEQb"),p=s.n(l),h=s("y0RW"),m=s.n(h),f=s("rbbm"),C=s.n(f),v=s("++6+"),g=s.n(v),I=s("1Jsg"),_=s.n(I),S=s("l8Qa"),y=s.n(S),b=s("BFOb"),x=s.n(b),D=s("YS88"),P=s.n(D),O=s("40Bx"),M=s.n(O),w=s("TXKF"),k=s.n(w),N={name:"empty-page",props:{type:{default:1}},data:function(){return{pages:{no404:{img:i.a,width:294,height:204,text:"抱歉，您找的页面可能去睡觉了"},no1000:{img:n.a,width:294,height:254,text:""},no0:{img:c.a,width:291,height:253,text:"商城已经打烊了"},no1:{img:u.a,width:200,height:270,text:"暂无结果，试试别的关键词吧"},no2:{img:p.a,width:200,height:270,text:"快来做第一个评论的人吧～"},no3:{img:m.a,width:200,height:270,text:"快来做第一个提问的人吧～"},no4:{img:C.a,width:292,height:253,text:"没有找到您心仪的商品，更换个条件试试吧"},no5:{img:g.a,width:412,height:253,text:"您的订单记录空空如也～"},no6:{img:_.a,width:290,height:252,text:"暂无优惠券哦～"},no7:{img:y.a,width:291,height:254,text:"除了我以外就没有别的喜欢的吗～"},no8:{img:x.a,width:290,height:252,text:"这里一个地址也没有～"},no9:{img:P.a,width:292,height:145,text:"没有找到您心仪的班级，更换个条件试试吧"},no10:{img:M.a,width:292,height:253,text:"商品卖完了，想买要趁早哦！"},no11:{img:k.a,width:290,height:253,text:"暂无商品，请到别的地方看看吧！"},no12:{img:k.a,width:290,height:253,text:"暂无结果，请到别的地方看看吧！"}}}},computed:{page:function(){var e=this.pages["no"+this.type];return{class:"img"+this.type,style:{width:e.width/2+"px",height:e.height/2+"px",backgroundImage:"url("+e.img+")"},text:e.text}}}},j={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty-box"},[t("div",{staticClass:"empty-img",class:this.page.class,style:this.page.style}),t("div",{staticClass:"empty-tips"},[this._v(this._s(this.page.text))])])},staticRenderFns:[]};var A=s("VU/8")(N,j,!1,function(e){s("mfgg")},"data-v-2993be6c",null);t.a=A.exports},FY0F:function(e,t,s){e.exports=s.p+"static/img/404.49a5047.png"},MEQb:function(e,t,s){e.exports=s.p+"static/img/002.0b83c59.png"},TXKF:function(e,t,s){e.exports=s.p+"static/img/011.74326b2.png"},VnJ3:function(e,t,s){e.exports=s.p+"static/img/address-bg.e63272b.png"},YS88:function(e,t,s){e.exports=s.p+"static/img/009.a401fd9.png"},Yeoj:function(e,t){},"c/ef":function(e,t){},cfO4:function(e,t,s){e.exports=s.p+"static/img/1000.30cdd05.png"},kkZd:function(e,t,s){e.exports=s.p+"static/img/001.de905a8.png"},l8Qa:function(e,t,s){e.exports=s.p+"static/img/007.e462516.png"},mfgg:function(e,t){},mvHQ:function(e,t,s){e.exports={default:s("qkKv"),__esModule:!0}},qjDd:function(e,t){},qkKv:function(e,t,s){var o=s("FeBl"),n=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},rbbm:function(e,t,s){e.exports=s.p+"static/img/004.0fbc03b.png"},"ru/X":function(e,t,s){"use strict";var o=s("//Fk"),n=s.n(o),r={name:"rich-text-area",props:{richText:{type:String},enableImgLoadEvent:{type:Boolean,default:!0},enableImagePreview:{type:Boolean,default:!0}},data:function(){return{}},methods:{imageLoadHandler:function(e,t){var s=this;return new n.a(function(s){var o=parseInt(e.style.width||e.getAttribute("width")),n=parseInt(e.style.height||e.getAttribute("height"));o&&n&&o>t&&(e.style.width=t+"px",e.style.height=t/o*n+"px"),e.addEventListener("load",function(){s("onload")}),e.addEventListener("error",function(){s("onerror")})}).then(function(e){return s.enableImgLoadEvent&&s.$emit("imgLoaded"),e})},processor:function(){var e=this,t=this.$refs.richTextBox,s=t.offsetWidth,o=t.querySelectorAll("img"),r=[],i=[],a=new RegExp("^((http|https)://|data:image)");if(Array.prototype.forEach.call(o,function(t,o){var n=t.src;n&&a.test(n)?(r.push(n),i.push(e.imageLoadHandler(t,s))):(t.style.width=0,t.style.height=0)}),n.a.all(i).then(function(e){e.forEach(function(e,t){"onerror"===e&&r.splice(t,1)})}),this.enableImagePreview){var c=0;t.addEventListener("click",function(e){var t=(new Date).getTime();if(!(t-c<500)){c=t;var s=e.target;"img"===s.nodeName.toLowerCase()&&wx&&wx.previewImage({current:s.src,urls:r})}})}}},mounted:function(){this.processor()}},i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"richTextBox",staticClass:"rich-text-box",domProps:{innerHTML:this._s(this.richText)}})},staticRenderFns:[]};var a=s("VU/8")(r,i,!1,function(e){s("wL9r")},null,null);t.a=a.exports},tT1C:function(e,t,s){e.exports=s.p+"static/img/000.438402b.png"},v4oU:function(e,t){},w7AN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("//Fk"),n=s.n(o),r=s("mvHQ"),i=s.n(r),a=s("woOf"),c=s.n(a),d=s("Gu7T"),u=s.n(d),l=s("Dd8w"),p=s.n(l),h={name:"order-row",props:{product:{type:Object,default:null}},methods:{computedShiftNum:function(e){return 1===this.$route.query.type?this.product[e].PackageAmount+this.product[e].Unit:this.product[e]&&this.product[e].ShiftSpecList?this.product[e].ShiftSpecList.filter(function(e){return e.isSelect})[0].Amount+this.product.Unit:void 0}},mounted:function(){}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-row"},[s("div",{staticClass:"row-hd"},[s("span",{staticClass:"row-hd-l",style:"background-image:url("+e.product.Image+")"}),s("div",{staticClass:"row-hd-r"},[s("div",{staticClass:"name"},[e._v(e._s(e.product.Name))]),1==e.product.Type?s("div",{staticClass:"content"},[e.product.ClassInfo.Date?s("div",[s("label",[e._v("开班日期：")]),e._v(e._s(e.product.ClassInfo.Date))]):e._e(),e.product.ClassInfo.CourseTime?s("div",[s("label",[e._v("上课时间：")]),e._v(e._s(e.product.ClassInfo.CourseTime))]):e._e(),e.product.ClassInfo.SeatRow>0&&e.product.ClassInfo.SeatColumn>0?s("div",[s("label",[e._v("已选座位：")]),e._v("\n\t\t\t\t\t"+e._s(e.product.ClassInfo.SeatName)+"\n\t\t\t\t")]):e._e(),e.product.ClassInfo.ShiftSpecID?s("div",[s("label",[e._v("课程数量：")]),e._v("\n\t\t\t\t\t"+e._s(e.computedShiftNum("ClassInfo"))+"\n\t\t\t\t")]):e._e()]):e._e(),3==e.product.Type?s("div",{staticClass:"content"},[e.product.ShiftInfo.ClassName?s("div",[s("label",[e._v("所选班级：")]),e._v(e._s(e.product.ShiftInfo.ClassName))]):e._e(),e.product.ShiftInfo.Date?s("div",[s("label",[e._v("开班日期：")]),e._v(e._s(e.product.ShiftInfo.Date))]):e._e(),e.product.ShiftInfo.CourseTime?s("div",[s("label",[e._v("上课时间：")]),e._v(e._s(e.product.ShiftInfo.CourseTime))]):e._e(),e.product.ShiftInfo.SeatName?s("div",[s("label",[e._v("已选座位：")]),e._v("\n\t\t\t\t\t"+e._s(e.product.ShiftInfo.SeatName)+"\n\t\t\t\t")]):e._e(),e.product.ShiftInfo.ShiftSpecID?s("div",[s("label",[e._v("课程数量：")]),e._v("\n\t\t\t\t\t"+e._s(e.computedShiftNum("ShiftInfo"))+"\n\t\t\t\t")]):e._e()]):e._e(),(2==e.product.Type||4==e.product.Type)&&e.product.GoodsInfo.Specs.length>0?s("div",{staticClass:"content"},e._l(e.product.GoodsInfo.Specs,function(t){return s("div",[s("label",[e._v(e._s(t.Name)+"：")]),e._v(e._s(t.Value))])})):e._e(),s("div",{staticClass:"detail"},[s("span",[s("span",{staticClass:"price"},[e._v("¥"+e._s(e._f("formatNumber")(e.product.Price)))]),e.product.ChooseScheme?s("span",{staticClass:"scheme-tag"},[e._v(e._s(e.product.ChooseScheme.Name))]):e._e()]),2==e.product.Type||4==e.product.Type?s("span",{staticClass:"count"},[e._v("x"+e._s(e.product.GoodsInfo.Amount))]):e._e()])])]),(1==e.product.Type||3==e.product.Type)&&e.product.Bindings.length>0?s("div",{staticClass:"row-bd"},[s("div",{staticClass:"row-bd-l"},[e._v("已选物品：")]),s("div",{staticClass:"row-bd-r"},e._l(e.product.Bindings,function(t){return s("div",{staticClass:"item"},[s("div",{staticClass:"item-name"},[e._v(e._s(t.Name))]),s("div",[e._v("¥"+e._s(e._f("formatNumber")(t.Price)))])])}))]):e._e()])},staticRenderFns:[]};var f=s("VU/8")(h,m,!1,function(e){s("B8jr")},"data-v-350b7e58",null).exports,C={name:"order-package-row",props:{product:{type:Object,default:null}},methods:{getContentStr:function(e){var t="";return e.SeatName&&(t=e.SeatName),e.Bindings&&e.Bindings.length>0&&(t+=" "+e.Bindings.length+"件物品"),e.Amount&&(t+=" "+e.Amount+e.Unit+"课程"),t}},mounted:function(){window.d=this}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-package-row"},[s("div",{staticClass:"row-hd"},[s("span",{staticClass:"row-hd-l",style:"background-image:url("+e.product.Image+")"}),s("div",{staticClass:"row-hd-r"},[s("div",{staticClass:"name"},[e._v(e._s(e.product.PackageName))]),s("div",{staticClass:"price"},[e._v("¥"+e._s(e._f("formatNumber")(e.product.Price)))])])]),s("div",{staticClass:"row-bd"},[e._v("套餐项目"),s("span",{staticClass:"tag"},[e._v("共"+e._s(e.product.Products.length)+"个项目")])]),s("div",{staticClass:"row-ft"},e._l(e.product.Products,function(t){return s("div",{staticClass:"item"},[s("div",{staticClass:"item-name"},[e._v(e._s(t.ProductName))]),1==t.Type?s("div",{staticClass:"item-content"},[e._v(e._s(e.getContentStr(t.ClassInfo)))]):e._e(),2==t.Type||4==t.Type?s("div",{staticClass:"item-content"},[e._v(e._s(t.GoodsInfo.SpecName))]):e._e(),3==t.Type?s("div",{staticClass:"item-content"},[s("div",{staticClass:"course-name"},[e._v(e._s(t.ShiftInfo.ClassName))]),s("div",{staticClass:"course-info"},[e._v(e._s(e.getContentStr(t.ShiftInfo)))])]):e._e()])}))])},staticRenderFns:[]};var g=s("VU/8")(C,v,!1,function(e){s("v4oU")},"data-v-36696d9d",null).exports,I=s("CHm6"),_={name:"order-coupon",mixins:[app.mixin.popupWindowRouteMixin],props:{opened:{}},data:function(){return{coupons:[],curCoupon:[]}},computed:{},methods:{selectCoupon:function(e){if(console.log(e),e.IsCanUse)if("4"==e.ComeType)e.IsSelected=!e.IsSelected,"0"==e.EnableMultiple&&this.coupons.forEach(function(e){"4"!=e.ComeType&&(e.IsSelected=!1)});else{var t=e.IsSelected;this.coupons.forEach(function(e){"4"!=e.ComeType?e.IsSelected=!1:"4"==e.ComeType&&"0"==e.EnableMultiple&&(e.IsSelected=!1)}),e.IsSelected=!t}},confirmCoupon:function(){this.close();var e=!1,t=this.coupons.filter(function(e){return e.IsSelected});if(this.curCoupon.length==t.length)for(var s=0;s<this.curCoupon.length;s++){for(var o=this.curCoupon[s],n=!1,r=0;r<t.length;r++){var i=t[r];if(o.ID==i.ID)break;r==t.length-1&&(n=!0,e=!0)}if(n)break}else e=!0;console.log(e),e&&this.$emit("closeCoupon",t)},close:function(){this.$emit("update:opened",!1)},setCoupon:function(e,t){var s=this;this.coupons=t,this.curCoupon=e,this.$nextTick(function(){s.coupons.forEach(function(e,t){String(e.Money).length>5?s.$refs.cardLeft[t].style.fontSize="24px":s.$refs.cardLeft[t].style.fontSize="34px",e.Name.length>7?s.$refs.title[t].style.fontSize="13px":s.$refs.title[t].style.fontSize="18px"})})}},mounted:function(){},components:{EmptyPage:I.a}},S={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"as-slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],staticClass:"order-coupon"},[s("div",{staticClass:"body"},[s("scroller-base",{staticClass:"scroll",attrs:{data:e.coupons}},[s("div",{staticClass:"text"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-quanjutishijinggao"}})]),e._v("\n                        当前最多使用一种优惠券（电子卡券类型可叠加使用）\n                    ")]),e._l(e.coupons,function(t){return s("div",{staticClass:"card",on:{click:function(s){e.selectCoupon(t)}}},[s("div",{staticClass:"card-left",class:{active2:!t.IsCanUse}},[s("div",{ref:"cardLeft",refInFor:!0,staticClass:"price"},[s("span",{staticClass:"yuan"},[e._v("¥")]),e._v(e._s(t.Money))]),s("div",{staticClass:"tag"},[e._v(e._s(t.Condition?"满"+t.Condition+"元可用":"不限"))])]),s("div",{staticClass:"card-right",class:{active5:!t.IsCanUse}},[s("div",{staticClass:"left"},[s("div",{ref:"title",refInFor:!0,staticClass:"title",class:{active3:!t.IsCanUse}},[e._v(e._s(t.Name))]),"4"==t.ComeType?s("div",{staticClass:"electronic"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-dianziqiaquanbiaoqian"}})])]):e._e(),s("div",{staticClass:"text1"},[e._v("\n                                    "+e._s(0==t.IsAllCampus?"指定校区可用;":-1==t.IsAllCampus?"指定校区不可用;":"")+"\n                                    "+e._s(0==t.IsAllGoods?"指定商品可用;":-1==t.IsAllGoods?"指定商品不可用;":"")+"\n                                    "+e._s(0==t.isAllSpecialGoods?"指定特殊商品可用;":-1==t.isAllSpecialGoods?"指定特殊商品不可用;":"")+"\n                                    "+e._s(0==t.IsAllShift?"指定课程可用;":-1==t.IsAllShift?"指定课程不可用;":"")+"\n                                ")]),"2099-01-01"!=e.app.filters.formatDatetime(t.EndDateTime,"yyyy-MM-dd")?s("div",{staticClass:"time"},[e._v("\n                                "+e._s(e._f("formatDatetime")(t.StartDateTime,"yyyy.MM.dd"))+" - "+e._s(e._f("formatDatetime")(t.EndDateTime,"yyyy.MM.dd")))]):e._e(),"2099-01-01"==e.app.filters.formatDatetime(t.EndDateTime,"yyyy-MM-dd")?s("div",{staticClass:"time"},[e._v("永久有效")]):e._e()]),s("div",{staticClass:"right"},[s("div",{staticClass:"icon-wrapper"},[t.IsCanUse&&"4"!=t.ComeType?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":t.IsSelected?"#icon-danxuanxuanzhong2":"#icon-danxuanweixuanzhong1"}})]):e._e(),t.IsCanUse&&"4"==t.ComeType&&"0"==t.EnableMultiple?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":t.IsSelected?"#icon-danxuanxuanzhong2":"#icon-danxuanweixuanzhong1"}})]):e._e(),t.IsCanUse&&"4"==t.ComeType&&"1"==t.EnableMultiple?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":t.IsSelected?"#icon-duoxuanxuanzhong1":"#icon-duoxuanweixuanzhong1"}})]):e._e()])])])])}),s("div",{staticClass:"void"})],2),0===e.coupons.length?s("empty-page",{staticClass:"noData_temp",attrs:{type:6}}):e._e()],1),s("div",{staticClass:"footer",on:{click:e.confirmCoupon}},[e._v("确定")])])])},staticRenderFns:[]};var y=s("VU/8")(_,S,!1,function(e){s("c/ef")},"data-v-5cfee486",null).exports,b={mixins:[app.mixin.popupWindowRouteMixin],props:{opened:{},schemes:{type:Array}},computed:{renderData:function(){return{schemes:this.schemes,clickNum:this.clickNum}}},data:function(){return{curScheme:null,IntroducerFullName:"",IntroducerMobile:"",clickNum:0}},methods:{judgeSelect:function(e,t){return!!t&&e==t.ID},setDefaultScheme:function(e,t,s){this.curScheme=e,this.IntroducerFullName=t||"",this.IntroducerMobile=s||"",this.clickNum++},selectSchemeAction:function(e,t){(1!=t||e.IsCanUse)&&(this.curScheme&&e&&this.curScheme.ID==e.ID||!this.curScheme&&!e||(this.IntroducerFullName="",this.IntroducerMobile="",this.curScheme=e,this.clickNum++))},confirmScheme:function(){if(this.curScheme&&this.curScheme.HasIntroducerCondition){if(!this.IntroducerFullName)return void app.toast("info","请填写介绍人姓名。");if(!this.IntroducerMobile)return void app.toast("info","请填写介绍人电话。");if(!app.telReg.test(this.IntroducerMobile))return void app.toast("info","介绍人电话格式不正确，请重新输入。")}this.$emit("closeScheme",this.curScheme,this.IntroducerFullName,this.IntroducerMobile)}},components:{},watch:{clickNum:function(){var e=this;this.$nextTick(function(){e.$refs.orderScheme.$refs.scroller.refreshFormInputlisten()})}}},x={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.schemes?s("action-sheet",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],ref:"orderScheme",staticClass:"order-scheme",attrs:{data:e.renderData},on:{close:e.close}},[s("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[e._v("优惠活动")]),s("ul",[e._l(e.schemes,function(t,o){return s("li",{staticClass:"as-row",class:{disable:!t.IsCanUse}},[s("div",{on:{click:function(s){e.selectSchemeAction(t,1)}}},[s("div",{staticClass:"title"},[s("div",{staticClass:"scheme-name"},[e._v(e._s(t.Name))]),s("div",{staticClass:"icon-wrapper"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[t.IsCanUse?s("use",{attrs:{"xlink:href":e.judgeSelect(t.ID,e.curScheme)?"#icon-xuanzhong":"#icon-danxuanweixuanzhong"}}):e._e(),t.IsCanUse?e._e():s("use",{attrs:{"xlink:href":"#icon-Oval"}})])])]),s("div",{staticClass:"content"},[e._v(e._s(t.Conditions.join("  ")))])]),t.HasIntroducerCondition&&e.judgeSelect(t.ID,e.curScheme)?s("div",[s("div",{staticClass:"item"},[s("label",[e._v("介绍人姓名：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.IntroducerFullName,expression:"IntroducerFullName"}],attrs:{placeholder:"请输入介绍人姓名",type:"text"},domProps:{value:e.IntroducerFullName},on:{input:function(t){t.target.composing||(e.IntroducerFullName=t.target.value)}}})]),s("div",{staticClass:"item"},[s("label",[e._v("介绍人电话：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.IntroducerMobile,expression:"IntroducerMobile"}],attrs:{placeholder:"请输入介绍人手机号码",type:"tel"},domProps:{value:e.IntroducerMobile},on:{input:function(t){t.target.composing||(e.IntroducerMobile=t.target.value)}}})])]):e._e()])}),s("li",{staticClass:"as-row",on:{click:function(t){e.selectSchemeAction(null,0)}}},[s("div",{staticClass:"title"},[s("div",{staticClass:"no-sheme"},[e._v("不使用优惠")]),s("div",{staticClass:"icon-wrapper"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.curScheme?"#icon-danxuanweixuanzhong":"#icon-xuanzhong"}})])])])])],2),s("div",{staticClass:"footer",attrs:{slot:"footer"},on:{click:e.confirmScheme},slot:"footer"},[e._v("确定")])]):e._e()},staticRenderFns:[]};var D=s("VU/8")(b,x,!1,function(e){s("0y93")},"data-v-f5cce7c6",null).exports,P=s("ru/X"),O=s("RYx2"),M={mixins:[app.mixin.popupWindowRouteMixin],props:{},data:function(){return{num:0,content:"",title:"",isAgree:!1,_rsv:null,opened:!1,btns:[{text:"取消",action:!1},{text:"确定",action:!0}]}},computed:{scrollData:function(){return{content:this.content,num:this.num}}},methods:{_triggerBtn:function(e){this.isAgree||!e.action?(this._rsv(e.action),this.close()):app.toast("info","请先同意协议")},show:function(e){var t=this;return this.opened=!0,Object(O.k)().then(function(e){e.ErrorCode==app.errok&&(t.content=e.Data.Content,t.title=e.Data.Title)}),this.promise=new n.a(function(e){t._rsv=e}),this.promise},imgLoaded:function(){this.num++}},created:function(){},components:{RichTextArea:P.a}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.opened?s("action-sheet",{staticClass:"action-sheet",attrs:{position:"center",data:e.scrollData},on:{close:e.close}},[s("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[e._v("\n        "+e._s(e.title)+"\n    ")]),s("div",{staticClass:"content"},[e.content?s("rich-text-area",{attrs:{richText:e.content},on:{imgLoaded:e.imgLoaded}}):e._e()],1),s("div",{staticClass:"bottom",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"bottom-top",on:{click:function(t){e.isAgree=!e.isAgree}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.isAgree?"#icon-xuanzhong1":"#icon-duoxuanweixuanzhong"}})]),e._v("\n            已阅读并同意"),s("span",{staticClass:"spec"},[e._v("<<隐私权政策>>")])]),s("div",{staticClass:"bottom-down"},e._l(e.btns,function(t,o){return s("div",{staticClass:"btn",on:{click:function(s){e._triggerBtn(t)}}},[e._v(e._s(t.text))])}))])]):e._e()},staticRenderFns:[]};var k=s("VU/8")(M,w,!1,function(e){s("Yeoj")},"data-v-1b1485de",null).exports,N=s("BEBN"),j=s("VnJ3"),A=s.n(j),E={name:"app-order",mixins:[app.mixin.shareMixin],data:function(){return{wxTitle:"填写订单",addressBg:A.a,isLoading:!0,submitLoading:!1,orderCampusObj:null,queryPara:null,goodsNum:0,isOpenScheme:!1,isOpenCoupon:!1,orderSchemes:[],orderCoupons:[],chooseOrderScheme:null,chooseCoupon:[],orderMoney:null,reserveAccount:null,clickNum:0,remark:"",showAgreeProcotol:!1,isAgreeProcotol:!1}},computed:p()({},Vuex.mapState(["config","userInfo","addressList","appCartCampus","orderAddress","goodsDetailCampus"]),{orderObj:function(){var e=this,t=[];return this.orderCampusObj.PackageID?(this.orderCampusObj.Products.forEach(function(s){var o=[],n={ProductID:s.ProductID,Type:s.Type,ClassInfo:null,GoodsInfo:null,ShiftInfo:null};1==s.Type?(s.ClassInfo.Bindings&&s.ClassInfo.Bindings.forEach(function(e){o.push({ProductID:e.ProductID})}),n.ClassInfo={SeatRow:s.ClassInfo.SeatRow,SeatColumn:s.ClassInfo.SeatColumn,Bindings:o,ShiftSpecID:s.ClassInfo.ShiftSpecID,Unit:s.ClassInfo.Unit}):2==s.Type||4==s.Type?(e.goodsNum++,n.GoodsInfo={SpecID:s.GoodsInfo.SpecID}):3===s.Type&&(s.ShiftInfo.Bindings&&s.ShiftInfo.Bindings.forEach(function(e){o.push({ProductID:e.ProductID})}),n.ShiftInfo={ClassID:s.ShiftInfo.ClassID,SeatRow:s.ShiftInfo.Row,SeatColumn:s.ShiftInfo.Column,Bindings:o,ShiftSpecID:s.ShiftInfo.ShiftSpecID,Unit:s.ShiftInfo.Unit}),t.push(n)}),{PackageID:this.orderCampusObj.PackageID,Products:t,IsUseReserveMoney:1==this.config.ReserveMoneyReduce,UsePoint:!1,Remark:"",ReceiveAddressID:""}):(this.orderCampusObj.Products.forEach(function(s){var o=[],n={Type:s.Type,SchemeID:"",ClassInfo:null,GoodsInfo:null,ShiftInfo:null,ShoppingCartID:s.ID,ProductID:s.ProductID,IsPreMoney:s.IsPreMoney};s.ChooseScheme&&(n.SchemeID=s.ChooseScheme.ID),1==s.Type?(s.Bindings&&s.Bindings.forEach(function(e){o.push({ShoppingCartID:e.ID,ProductID:e.ProductID,EnablePointReduce:e.EnablePointReduce})}),n.ClassInfo={SeatRow:s.ClassInfo.SeatRow,SeatColumn:s.ClassInfo.SeatColumn,Bindings:o,ShiftSpecID:s.ClassInfo.ShiftSpecID,Unit:s.ClassInfo.Unit}):2==s.Type||4==s.Type?(e.goodsNum++,n.GoodsInfo={Amount:s.GoodsInfo.Amount,SpecID:s.GoodsInfo.ProductSpecID}):3==s.Type&&(s.Bindings&&s.Bindings.forEach(function(e){o.push({ShoppingCartID:e.ID,ProductID:e.ProductID,EnablePointReduce:e.EnablePointReduce})}),n.ShiftInfo={SeatName:s.ShiftInfo.SeatName,SeatRow:s.ShiftInfo.SeatRow,SeatColumn:s.ShiftInfo.SeatColumn,Bindings:o,ClassID:s.ShiftInfo.ClassID,ShiftSpecID:s.ShiftInfo.ShiftSpecID,Unit:s.ShiftInfo.Unit}),t.push(n)}),{Products:t,Remark:this.remark,SchemeID:"",CouponID:"",RecommendCards:[],UsePoint:!1,ReceiveAddressID:"",IsUseReserveMoney:1==this.config.ReserveMoneyReduce,IntroducerFullName:"",IntroducerMobile:""})},renderData:function(){return{userInfo:this.userInfo,orderCampusObj:this.orderCampusObj,orderAddress:this.orderAddress,reserveAccount:this.reserveAccount,chooseCoupon:this.chooseCoupon,chooseOrderScheme:this.chooseOrderScheme,clickNum:this.clickNum,config:this.config,goodsNum:this.goodsNum,orderInfo:this.orderInfo,orderMoney:this.orderMoney}},orderInfo:function(){var e=0,t=1==this.config.EnableCoupon,s=1==this.config.EnableDiscountScheme;return this.orderCampusObj.PackageID?(e=this.orderCampusObj.Products.length,t=!1,s=!1):this.orderCampusObj.Products.forEach(function(o){1==o.Type||3==o.Type?e+=1:2!=o.Type&&4!=o.Type||(e+=o.GoodsInfo.Amount),o.IsPreMoney&&(t=!1,s=!1)}),{totalCount:e,enableCoupon:t,enableDiscountScheme:s}},totalMoney:function(){var e=0;return this.orderCampusObj.PackageID?e=this.orderMoney?this.orderMoney.TotalMoney:e:this.orderMoney&&this.orderMoney.TotalMoney-this.orderMoney.ItemSchemeMoney>0&&(e=(this.orderMoney.TotalMoney-this.orderMoney.ItemSchemeMoney).toFixed(2)),e},schemeStr:function(){return 0==this.orderSchemes.length?"无可用":this.chooseOrderScheme?this.chooseOrderScheme.Name+"&nbsp;(<span style='color:#E93A0E'>-&#165;"+parseFloat(this.orderMoney?this.orderMoney.SchemeMoney:0).toFixed(2)+"</span>)":"不使用优惠"},couponStr:function(){return 0==this.usableCoupons.length?"无可用":this.chooseCoupon.length>0?"<span style='color:#E93A0E'>-&#165;"+parseFloat(this.orderMoney?this.orderMoney.CouponMoney+this.orderMoney.RecommendCardsMoeny:0).toFixed(2)+"</span>":"不使用优惠券"},usableCoupons:function(){var e=[];return this.orderCoupons.forEach(function(t){t.IsCanUse&&e.push(t)}),e},customerSex:function(){return"男"!==this.userInfo.Sex&&"女"!==this.userInfo.Sex?"":this.userInfo.Sex}}),methods:p()({},Vuex.mapMutations(["set_userInfo","set_addressList","set_orderAddress","set_appCartCampus","set_goodsDetailCampus","set_cartListRefreshFlag"]),{gotoAddressPage:function(){this.orderAddress.ID?this.$router.push({path:"/addressSetting/1"}):this.$router.push({path:"/addressEdit/1"})},openScheme:function(){0!=this.orderSchemes.length?(this.$refs.orderScheme.setDefaultScheme(this.chooseOrderScheme,this.orderObj.IntroducerFullName,this.orderObj.IntroducerMobile),this.isOpenScheme=!0):app.toast("info","暂无可用优惠。")},closeScheme:function(e,t,s){this.isOpenScheme=!1,e&&e.HasIntroducerCondition&&(this.orderObj.IntroducerFullName=t,this.orderObj.IntroducerMobile=s),!e&&!this.chooseOrderScheme||e&&this.chooseOrderScheme&&e.ID==this.chooseOrderScheme.ID||(this.chooseOrderScheme=e,this.getLastMoneyInfo(!0))},openCoupon:function(){this.$refs.orderCoupon.setCoupon(this.chooseCoupon,this.orderCoupons),this.isOpenCoupon=!0},closeCoupon:function(e){this.chooseCoupon=e,this.getLastMoneyInfo()},showPointRule:function(){app.dialog("alert",{title:"积分规则",text:this.config.PointWord,btn:{text:"我知道了",style:{fontSize:"15px",color:"#1E88F5"}},clickMask2close:!0})},togglePointUse:function(){this.orderObj.UsePoint=!this.orderObj.UsePoint,this.getLastMoneyInfo()},getDefaultCoupon:function(e,t){t&&e.forEach(function(e){e.IsCanUse&&e.IsBest?e.IsSelected=!0:e.IsSelected=!1}),this.orderCoupons=e,this.chooseCoupon=[],this.chooseCoupon=e.filter(function(e){return e.IsCanUse&&(e.IsBest||e.IsSelected)})},getDefaultScheme:function(e){var t=this;this.orderSchemes=e,e.forEach(function(e){e.IsCanUse&&e.IsBest&&(t.chooseOrderScheme=e)})},getDefaultAddress:function(){var e=this;this.addressList&&this.addressList.forEach(function(t){t.IsDefault&&e.set_orderAddress(t)})},getReserveAccount:function(){var e=this;Object(N.B)().then(function(t){t.ErrorCode==app.errok?e.reserveAccount=t.Data:app.toast("error",t.ErrorMsg)})},getLastMoneyInfo:function(e){var t=this;if(this.submitLoading=!0,this.orderCampusObj.PackageID)Object(N.E)(this.orderObj).then(function(e){t.submitLoading=!1,e.ErrorCode==app.errok&&(t.orderMoney=e.Data,t.$nextTick(function(){t.clickNum++}))});else{this.orderObj.SchemeID=this.chooseOrderScheme?this.chooseOrderScheme.ID:"";var s="";this.orderObj.RecommendCards=[],this.chooseCoupon.length>0&&this.chooseCoupon.forEach(function(e){"4"==e.ComeType?t.orderObj.RecommendCards.push(e.ID):s=e.ID}),this.orderObj.CouponID=s,Object(N.w)(this.orderObj).then(function(s){if(t.submitLoading=!1,s.ErrorCode==app.errok){var o=s.Data;if(t.orderMoney=o.MoneyInfo,e){var n,r,i=0;if(o.Coupons.forEach(function(e,t){e.IsCanUse||(i=t)}),0==i)(n=o.Coupons).push.apply(n,u()(o.RecommendCards));else(r=o.Coupons).splice.apply(r,[i,0].concat(u()(o.RecommendCards)));t.getDefaultCoupon(o.Coupons)}t.$nextTick(function(){t.clickNum++})}})}},juggAgreePro:function(e){var t=this;this.config.EnableMallProtocol&&!this.isAgreeProcotol?this.$refs.agreePro.show().then(function(s){s&&(t.isAgreeProcotol=s,t.submitOrderTrue(e))}):this.submitOrderTrue(e)},submitOrder:function(){var e=this,t=void 0;if(2==this.config.GetGoodsType&&this.goodsNum>0){if(!this.orderAddress.ID)return void app.toast("info","请设置收货地址。");this.orderObj.ReceiveAddressID=this.orderAddress.ID}if(this.orderCampusObj.PackageID)t=N.e;else{if(this.chooseOrderScheme){if(this.chooseOrderScheme.HasIntroducerCondition){if(!this.orderObj.IntroducerFullName)return app.toast("info","请填写介绍人姓名。"),void this.openScheme();if(!this.orderObj.IntroducerMobile)return app.toast("info","请填写介绍人电话。"),void this.openScheme();if(!app.telReg.test(this.orderObj.IntroducerMobile))return app.toast("info","介绍人电话格式不正确，请重新输入。"),void this.openScheme()}else this.orderObj.IntroducerFullName="",this.orderObj.IntroducerMobile="";this.orderObj.SchemeID=this.chooseOrderScheme.ID}else this.orderObj.SchemeID="";var s="";this.orderObj.RecommendCards=[],this.chooseCoupon.length>0&&this.chooseCoupon.forEach(function(t){"4"==t.ComeType?e.orderObj.RecommendCards.push(t.ID):s=t.ID}),this.orderObj.CouponID=s,t=N.f}this.juggAgreePro(t)},submitOrderTrue:function(e){var t=this;this.submitLoading=!0,e(c()({},this.orderObj,{IsAgreeProtocol:this.isAgreeProcotol})).then(function(e){if(setTimeout(function(){t.submitLoading=!1},300),e.ErrorCode==app.errok){var s=e.Data;if("miniprogram"===window.__wxjs_environment)if(s.Status&&s.OrderID&&!s.PayInfo)app.toast("success","订单支付成功。"),t.set_appCartCampus({ID:"",Name:"",Products:[]}),t.set_goodsDetailCampus({ID:"",Name:"",Products:[]}),t.set_cartListRefreshFlag(),t.$router.replace({path:"/orderDetail",query:{orderId:s.OrderID,isPay:1}});else{var o="succUrl="+encodeURIComponent(window.location.href.match(/[^#]*#/)[0]+"/orderList/1"),n="failUrl="+encodeURIComponent(window.location.href.match(/[^#]*#/)[0]+"/orderList/1"),r="info="+encodeURIComponent(i()({OrderNumber:s.OrderNumber,CompanyName:s.CompanyName,StudentName:s.StudentName,PayMoney:s.PayMoney,Product:s.ProductItem})),a="data="+encodeURIComponent(s.PayInfo);wx.miniProgram.navigateTo({url:"/pages/payment/payment?"+o+"&"+n+"&"+a+"&"+r,success:function(){},fail:function(){app.alert("跳转失败，请刷新页面重试。")}})}else if(s.WXData)try{document.getElementById("wxData").value=s.WXData,document.getElementById("wxPayForm").action=s.PayURL,document.getElementById("wxPayForm").submit()}catch(e){app.toast("error",e.message)}else s.OrderID&&(app.toast("success","订单支付成功。"),t.set_appCartCampus({ID:"",Name:"",Products:[]}),t.set_goodsDetailCampus({ID:"",Name:"",Products:[]}),t.set_cartListRefreshFlag(),t.$router.replace({path:"/orderDetail",query:{orderId:s.OrderID,isPay:1}}))}else 421==e.ErrorCode?app.alert("您有一笔待支付订单，前往支付。").then(function(e){setTimeout(function(){t.$router.replace({path:"/orderList/1"})},50)}):422==e.ErrorCode||400==e.ErrorCode?app.alert(e.ErrorMsg):423==e.ErrorCode?app.alert("您有一笔未支付未过期的预制订单，可前往“师生信->个人中心->预制订单”进行支付。"):1e3!==e.ErrorCode&&e.ErrorMsg&&app.toast("error",e.ErrorMsg)})}}),created:function(){var e=this;window.a=this,this.queryPara=this.$route.query,this.orderCampusObj=app.tool.clone(1==this.queryPara.type?this.appCartCampus:this.goodsDetailCampus),0==this.orderCampusObj.Products.length&&(this.orderCampusObj=JSON.parse(app.ls.getStorage("mallOrderPara")),n.a.all([Object(N.j)(),Object(N.o)()]).then(function(t){t[0].ErrorCode==app.errok&&t[1].ErrorCode==app.errok&&(e.set_addressList(t[0].Data),e.set_userInfo(t[1].Data),e.getDefaultAddress())})),this.getReserveAccount(),this.getDefaultAddress(),this.orderCampusObj.PackageID?(this.isLoading=!1,Object(N.E)(this.orderObj).then(function(t){e.isLoading=!1,t.ErrorCode==app.errok&&(e.orderMoney=t.Data)})):Object(N.q)(this.orderObj).then(function(t){if(e.isLoading=!1,t.ErrorCode==app.errok){var s,o,n=t.Data,r=0;if(n.Coupons.forEach(function(e,t){e.IsCanUse||(r=t)}),0==r)n.RecommendCards&&(s=n.Coupons).push.apply(s,u()(n.RecommendCards));else n.RecommendCards&&(o=n.Coupons).splice.apply(o,[r,0].concat(u()(n.RecommendCards)));e.getDefaultCoupon(n.Coupons,!0),e.getDefaultScheme(n.Schemes),e.orderMoney=n.BestMoneyInfo}else app.alert(t.ErrorMsg||"当前抢购太火爆，请稍后再试。").then(function(t){setTimeout(function(){e.$router.back()},300)})}),app.ls.setStorage("mallOrderPara",i()(this.orderCampusObj))},watch:{remark:function(e){this.remark.length>200&&(app.toast("info","最多输入200个字哦。"),this.remark=this.remark.substring(0,200))}},components:{OrderRow:f,OrderCoupon:y,OrderScheme:D,OrderPackageRow:g,AgreeProtocol:k}},T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-order"},[s("div",{staticClass:"body"},[s("scroller-base",{staticClass:"scroller",attrs:{data:e.renderData}},[e.orderCampusObj?s("div",[2==e.config.GetGoodsType&&e.goodsNum>0?s("div",{staticClass:"order-address",on:{click:e.gotoAddressPage}},[e.orderAddress.ID?e._e():s("div",{staticClass:"address-empty"},[s("div",[e._v("请设置收货地址")]),s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-next"}})])]),e.orderAddress.ID?s("div",{staticClass:"address-hd"},[e._v("\n\t\t\t\t\t\t\t收货人："+e._s(e.orderAddress.Contact)),s("span",{staticClass:"tel"},[e._v(e._s(e.orderAddress.Mobile))])]):e._e(),e.orderAddress.ID?s("div",{staticClass:"address-bd"},[s("div",{staticClass:"address-bd-l"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-didian"}})])]),s("div",{staticClass:"address-bd-c"},[e._v("收货地址："+e._s(e.orderAddress.Address))]),s("div",{staticClass:"address-bd-r"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-next"}})])])]):e._e(),s("div",{staticClass:"address-ft",style:"backgroundImage:url("+e.addressBg+")"})]):e._e(),2==e.config.GetGoodsType&&e.goodsNum>0?s("div",{staticClass:"void"}):e._e(),s("div",{staticClass:"order-shopping"},[s("div",{staticClass:"order-shopping-hd"},[e._v(e._s(e.orderCampusObj.Name))]),e._l(e.orderCampusObj.Products,function(t){return e.orderCampusObj.PackageID?e._e():s("div",{staticClass:"order-shopping-bd"},[s("order-row",{attrs:{product:t}})],1)}),e.orderCampusObj.PackageID?s("div",{staticClass:"order-shopping-bd"},[s("order-package-row",{attrs:{product:e.orderCampusObj}})],1):e._e(),s("div",{staticClass:"order-shopping-ft"},[e._v("\n                            共"+e._s(e.orderInfo.totalCount)+"件商品\n                            "),s("span",{staticClass:"amount"},[e._v("小计：\n                                "),s("span",{staticClass:"price lfont"},[e._v("¥"+e._s(e._f("formatNumber")(e.orderMoney?e.totalMoney:0)))])])]),e.orderCampusObj.Products[0].IsPreMoney?s("div",{staticClass:"order-shopping-ft"},[s("span",{staticClass:"amount"},[e._v("应付定金：\n                                "),s("span",{staticClass:"price lfont"},[e._v("¥"+e._s(e.orderCampusObj.Products[0].PreMoney))])])]):e._e(),s("div",{staticClass:"void"})],2),s("div",{staticClass:"order-discount"},[e.orderInfo.enableDiscountScheme&&0==e.config.EnableDiscountSchemeOrder?s("div",{staticClass:"item pr",on:{click:e.openScheme}},[s("label",{staticClass:"item-name"},[e._v("优惠活动")]),s("span",{staticClass:"flex-1 tr",domProps:{innerHTML:e._s(e.schemeStr)}}),s("svg",{staticClass:"icon inext",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-next"}})])]):e._e(),e.orderInfo.enableCoupon?s("div",{staticClass:"item pr",on:{click:e.openCoupon}},[s("label",{staticClass:"item-name"},[e._v("优惠券"),e.chooseCoupon.length>0?s("span",{staticClass:"coupon-tips"},[e._v("已选"+e._s(e.chooseCoupon.length)+"张")]):e._e()]),s("span",{staticClass:"flex-1 tr",class:{price:e.chooseCoupon.length>0},domProps:{innerHTML:e._s(e.couponStr)}}),s("svg",{staticClass:"icon inext",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-next"}})])]):e._e(),e.orderInfo.enableDiscountScheme&&1==e.config.EnableDiscountSchemeOrder?s("div",{staticClass:"item pr",on:{click:e.openScheme}},[s("label",{staticClass:"item-name"},[e._v("优惠活动")]),s("span",{staticClass:"flex-1 tr",domProps:{innerHTML:e._s(e.schemeStr)}}),s("svg",{staticClass:"icon inext",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-next"}})])]):e._e(),1==e.config.PointReduce&&e.orderMoney&&e.orderMoney.PointCanUse>0?s("div",{staticClass:"item"},[s("label",{staticClass:"item-name flex-1"},[e._v("积分\n\t\t\t\t\t\t\t\t"),e.reserveAccount&&e.reserveAccount.Point>=e.config.PointBase?s("span",{staticClass:"point-tips"},[e._v("\n\t\t\t\t\t\t\t\t\t共"+e._s(e.reserveAccount?e.reserveAccount.Point:0)+"积分，可用"+e._s(e.orderMoney?e.orderObj.UsePoint?e.orderMoney.PointToUse:e.orderMoney.PointCanUse:0)+"积分，可抵减\n\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"price"},[e._v("\n\t\t\t\t\t\t\t\t\t\t¥"+e._s(e._f("formatNumber")(e.orderMoney?e.orderObj.UsePoint?e.orderMoney.PointMoney:e.orderMoney.PointMoneyCanUse:0))+"\n\t\t\t\t\t\t\t\t\t")])]):e._e(),e.reserveAccount&&e.reserveAccount.Point<e.config.PointBase?s("span",{staticClass:"point-tips"},[e._v("\n\t\t\t\t\t\t\t\t\t共"+e._s(e.reserveAccount.Point)+"积分，满"+e._s(e.config.PointBase)+"积分可用\n\t\t\t\t\t\t\t\t")]):e._e(),s("span",{on:{click:function(t){return t.preventDefault(),e.showPointRule(t)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-tixing"}})])])]),e.reserveAccount&&e.reserveAccount.Point>=e.config.PointBase&&e.orderObj.UsePoint?s("span",{staticClass:"price reduce"},[e._v("\n\t\t\t\t\t\t\t\t\t(-¥"+e._s(e._f("formatNumber")(e.orderMoney?e.orderObj.UsePoint?e.orderMoney.PointMoney:e.orderMoney.PointMoneyCanUse:0))+")\n\t\t\t\t\t\t\t")]):e._e(),e.reserveAccount&&e.reserveAccount.Point>=e.config.PointBase?s("svg",{staticClass:"icon point-use",class:{active:e.orderObj.UsePoint},attrs:{"aria-hidden":"true"},on:{click:e.togglePointUse}},[s("use",{attrs:{"xlink:href":e.orderObj.UsePoint?"#icon-duoxuanxuanzhong":"#icon-duoxuanweixuanzhong"}})]):e._e()]):e._e(),e.orderObj.IsUseReserveMoney?s("div",{staticClass:"item"},[s("label",{staticClass:"item-name"},[e._v("电子钱包"),s("span",{staticClass:"point-tips"},[e._v("(账户当前余额:"),s("span",{staticClass:"price"},[e._v("¥"+e._s(e._f("formatNumber")(e.reserveAccount?e.reserveAccount.Money:0)))]),e._v("元)")])]),e.orderMoney&&e.orderMoney.ReserveMoney?s("span",{staticClass:"flex-1 tr"},[e._v("("),s("span",{staticClass:"price"},[e._v("-¥"+e._s(e._f("formatNumber")(e.orderMoney.ReserveMoney)))]),e._v(")")]):e._e()]):e._e()]),s("div",{staticClass:"void"}),s("div",{staticClass:"order-memo"},[s("div",{staticClass:"item"},[s("label",{staticClass:"item-name"},[e._v("备注：")]),s("div",{staticClass:"memo-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"remark"}],attrs:{type:"text",placeholder:"选填，对本次交易的说明"},domProps:{value:e.remark},on:{input:function(t){t.target.composing||(e.remark=t.target.value)}}})])])]),s("div",{staticClass:"order-student"},[e._v("使用学员："+e._s(e.userInfo.StudentName)),e.customerSex?s("span",[e._v("（"+e._s(e.customerSex)+"）")]):e._e()])]):e._e()])],1),s("div",{staticClass:"footer"},[s("div",{staticClass:"footer-l"},[e._v("共"),s("span",{staticClass:"total-count"},[e._v(e._s(e.orderInfo.totalCount))]),e._v("件，合计: "),s("span",{staticClass:"price lfont"},[e._v("¥"+e._s(e._f("formatNumber")(e.orderMoney?e.orderMoney.PayMoney:0)))])]),s("div",{staticClass:"footer-r",on:{click:e.submitOrder}},[e._v("提交订单")])]),e.isLoading?s("loading",{staticClass:"loading"}):e._e(),e.submitLoading?s("loading",{staticClass:"loading",attrs:{bgType:1}}):e._e(),s("order-scheme",{ref:"orderScheme",attrs:{opened:e.isOpenScheme,schemes:e.orderSchemes},on:{closeScheme:e.closeScheme,"update:opened":function(t){e.isOpenScheme=t}}}),s("order-coupon",{ref:"orderCoupon",attrs:{opened:e.isOpenCoupon},on:{"update:opened":function(t){e.isOpenCoupon=t},closeCoupon:e.closeCoupon}}),s("agree-protocol",{ref:"agreePro",attrs:{opened:e.showAgreeProcotol},on:{"update:opened":function(t){e.showAgreeProcotol=t}}})],1)},staticRenderFns:[]};var R=s("VU/8")(E,T,!1,function(e){s("qjDd")},"data-v-6a1c378e",null);t.default=R.exports},wL9r:function(e,t){},y0RW:function(e,t,s){e.exports=s.p+"static/img/003.3e0fba5.png"}});