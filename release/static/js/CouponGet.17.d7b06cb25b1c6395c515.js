webpackJsonp([17],{"14z0":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=a("Dd8w"),e=a.n(o),n=a("BEBN"),i=a("wwri"),r=a.n(i),c=a("WOuE"),u=a.n(c),p=a("YKGf"),l=a.n(p),d={name:"coupon-get",mixins:[app.mixin.shareMixin],data:function(){return{cbg:r.a,cimg:u.a,ccg:l.a,userName:"",password:"",couponInfo:null,wxTitle:"网上商城"}},computed:e()({},Vuex.mapState(["userInfo","companySuffix"]),{applicable:function(){var t=this.couponInfo;return window.ci=t,1==t.IsAllGoods&&1==t.IsAllShift},userLoginName:function(){if(this.userInfo&&this.userInfo.Name){var t=this.userInfo.Name.indexOf("@");return this.userInfo.Name.slice(0,t)}return""}}),methods:{getCoupon:function(){this.userName.length&&this.password.length?Object(n.I)({UserName:this.userName,Password:this.password,CouponID:this.$route.params.couponID}).then(function(t){t.ErrorCode===app.errok?app.toast("领取优惠券成功。"):app.alert(t.ErrorMsg)}):app.alert("账号或密码不能为空")}},created:function(){var t=this;this.userName=this.userLoginName,Object(n.m)({couponID:this.$route.params.couponID}).then(function(s){s.ErrorCode===app.errok?t.couponInfo=s.Data:app.alert(s.ErrorMsg)})}},f={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("scroller-base",{staticClass:"coupon-get-scroller",attrs:{data:t.couponInfo}},[a("div",{staticClass:"header-wrapper",style:"backgroundImage:url("+t.cbg+")"},[a("div",{staticClass:"header-box"},[a("div",{staticClass:"header",style:"backgroundImage:url("+t.cimg+")"})])]),a("div",{staticClass:"separation"},[a("div",{staticClass:"separation-interior"})]),a("div",{staticClass:"main"},[a("div",{staticClass:"coupon-warpper"},[a("div",{staticClass:"coupon-box"},[a("div",{staticClass:"coupon-hint"},[t._v("你有一张优惠券未领取")]),a("div",{staticClass:"coupon",style:"backgroundImage:url("+t.ccg+")"},[t.couponInfo?a("div",{staticClass:"left"},[a("div",{staticClass:"money"},[a("div",{staticClass:"sign"},[t._v("¥")]),t.couponInfo.Money<1e3?a("div",{staticClass:"num"},[t._v(t._s(t.couponInfo.Money))]):t._e(),t.couponInfo.Money>999&&t.couponInfo.Money<1e4?a("div",{staticClass:"num mid"},[t._v(t._s(t.couponInfo.Money))]):t._e(),t.couponInfo.Money>9999?a("div",{staticClass:"num min"},[t._v(t._s(t.couponInfo.Money))]):t._e()]),t.couponInfo.ConditionMoney?a("div",{staticClass:"conditionMoney"},[t._v("满"+t._s(t.couponInfo.ConditionMoney)+"可用")]):t._e()]):t._e(),t.couponInfo?a("div",{staticClass:"right"},[a("div",{staticClass:"item"},[t._v("适用商品: "+t._s(t.applicable?"不限":"指定商品"))]),a("div",{staticClass:"item"},[t._v("适用校区: "+t._s(1==t.couponInfo.IsAllCampus?"不限":"指定校区"))]),a("div",{staticClass:"item"},[t._v("有效期至: "+t._s(t._f("formatDatetime")(t.couponInfo.EndDateTime,"yyyy-MM-dd")))])]):t._e()])])]),a("div",{staticClass:"account-warper"},[a("div",{staticClass:"account-box"},[a("div",{staticClass:"account-hint"},[t._v("登录账号领取")]),a("div",{staticClass:"input-wrapper"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-zhanghao"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"user-input",attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.userName},on:{input:function(s){s.target.composing||(t.userName=s.target.value)}}}),a("div",{staticClass:"line"}),a("div",{staticClass:"suffix"},[t._v("@"+t._s(t.companySuffix))])]),a("div",{staticClass:"input-wrapper"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-mima2"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"user-input",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),a("div",{staticClass:"input-wrapper btn",on:{click:t.getCoupon}},[t._v("确认领取")])])]),a("div",{staticClass:"support-info"},[t._v("\n\t\t\t由校管家教育科技有限公司提供技术支持 \n\t\t")])])])},staticRenderFns:[]};var m=a("VU/8")(d,f,!1,function(t){a("fSG3")},"data-v-091b2877",null);s.default=m.exports},WOuE:function(t,s,a){t.exports=a.p+"static/img/coupon-get-header-img.27bdbdf.png"},YKGf:function(t,s,a){t.exports=a.p+"static/img/coupon-get-coupon.126fdbc.png"},fSG3:function(t,s){},wwri:function(t,s,a){t.exports=a.p+"static/img/coupon-get-header-bg.61eadff.jpg"}});