webpackJsonp([16],{FZdK:function(t,e){},NYxO:function(t,e,s){"use strict";
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */var i=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:s});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[s].concat(t.init):s,e.call(this,t)}}function s(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},r="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){Object.keys(t).forEach(function(s){return e(t[s],s)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=("function"==typeof s?s():s)||{}},n={namespaced:{configurable:!0}};n.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){o(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,n);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,s){return t+((e=e.getChild(s)).namespaced?s+"/":"")},"")},c.prototype.update=function(t){!function t(e,s,i){0;s.update(i);if(i.modules)for(var r in i.modules){if(!s.getChild(r))return void 0;t(e.concat(r),s.getChild(r),i.modules[r])}}([],this.root,t)},c.prototype.register=function(t,e,s){var i=this;void 0===s&&(s=!0);var r=new a(e,s);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&o(e.modules,function(e,r){i.register(t.concat(r),e,s)})},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),s=t[t.length-1];e.getChild(s).runtime&&e.removeChild(s)};var u;var l=function(t){var e=this;void 0===t&&(t={}),!u&&"undefined"!=typeof window&&window.Vue&&C(window.Vue);var s=t.plugins;void 0===s&&(s=[]);var i=t.strict;void 0===i&&(i=!1);var o=t.state;void 0===o&&(o={}),"function"==typeof o&&(o=o()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u;var a=this,n=this.dispatch,l=this.commit;this.dispatch=function(t,e){return n.call(a,t,e)},this.commit=function(t,e,s){return l.call(a,t,e,s)},this.strict=i,f(this,o,[],this._modules.root),m(this,o),s.forEach(function(t){return t(e)}),u.config.devtools&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)}))}(this)},d={state:{configurable:!0}};function h(t,e){return e.indexOf(t)<0&&e.push(t),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var s=t.state;f(t,s,[],t._modules.root,!0),m(t,s,e)}function m(t,e,s){var i=t._vm;t.getters={};var r={};o(t._wrappedGetters,function(e,s){r[s]=function(){return e(t)},Object.defineProperty(t.getters,s,{get:function(){return t._vm[s]},enumerable:!0})});var a=u.config.silent;u.config.silent=!0,t._vm=new u({data:{$$state:e},computed:r}),u.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),i&&(s&&t._withCommit(function(){i._data.$$state=null}),u.nextTick(function(){return i.$destroy()}))}function f(t,e,s,i,r){var o=!s.length,a=t._modules.getNamespace(s);if(i.namespaced&&(t._modulesNamespaceMap[a]=i),!o&&!r){var n=v(e,s.slice(0,-1)),c=s[s.length-1];t._withCommit(function(){u.set(n,c,i.state)})}var l=i.context=function(t,e,s){var i=""===e,r={dispatch:i?t.dispatch:function(s,i,r){var o=g(s,i,r),a=o.payload,n=o.options,c=o.type;return n&&n.root||(c=e+c),t.dispatch(c,a)},commit:i?t.commit:function(s,i,r){var o=g(s,i,r),a=o.payload,n=o.options,c=o.type;n&&n.root||(c=e+c),t.commit(c,a,n)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){var s={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var o=r.slice(i);Object.defineProperty(s,o,{get:function(){return t.getters[r]},enumerable:!0})}}),s}(t,e)}},state:{get:function(){return v(t.state,s)}}}),r}(t,a,s);i.forEachMutation(function(e,s){!function(t,e,s,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){s.call(t,i.state,e)})}(t,a+s,e,l)}),i.forEachAction(function(e,s){var i=e.root?s:a+s,r=e.handler||e;!function(t,e,s,i){(t._actions[e]||(t._actions[e]=[])).push(function(e,r){var o,a=s.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return(o=a)&&"function"==typeof o.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,i,r,l)}),i.forEachGetter(function(e,s){!function(t,e,s,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return s(i.state,i.getters,t.state,t.getters)}}(t,a+s,e,l)}),i.forEachChild(function(i,o){f(t,e,s.concat(o),i,r)})}function v(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function g(t,e,s){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(s=e,e=t,t=t.type),{type:t,payload:e,options:s}}function C(t){u&&t===u||i(u=t)}d.state.get=function(){return this._vm._data.$$state},d.state.set=function(t){0},l.prototype.commit=function(t,e,s){var i=this,r=g(t,e,s),o=r.type,a=r.payload,n=(r.options,{type:o,payload:a}),c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(n,i.state)}))},l.prototype.dispatch=function(t,e){var s=this,i=g(t,e),r=i.type,o=i.payload,a={type:r,payload:o},n=this._actions[r];if(n)return this._actionSubscribers.forEach(function(t){return t(a,s.state)}),n.length>1?Promise.all(n.map(function(t){return t(o)})):n[0](o)},l.prototype.subscribe=function(t){return h(t,this._subscribers)},l.prototype.subscribeAction=function(t){return h(t,this._actionSubscribers)},l.prototype.watch=function(t,e,s){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,s)},l.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},l.prototype.registerModule=function(t,e,s){void 0===s&&(s={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),f(this,this.state,t,this._modules.get(t),s.preserveState),m(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var s=v(e.state,t.slice(0,-1));u.delete(s,t[t.length-1])}),p(this)},l.prototype.hotUpdate=function(t){this._modules.update(t),p(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,d);y(function(t,e){var s={};return _(e).forEach(function(e){var i=e.key,r=e.val;s[i]=function(){var e=this.$store.state,s=this.$store.getters;if(t){var i=b(this.$store,"mapState",t);if(!i)return;e=i.context.state,s=i.context.getters}return"function"==typeof r?r.call(this,e,s):e[r]},s[i].vuex=!0}),s}),y(function(t,e){var s={};return _(e).forEach(function(e){var i=e.key,r=e.val;s[i]=function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var i=this.$store.commit;if(t){var o=b(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),s}),y(function(t,e){var s={};return _(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,s[i]=function(){if(!t||b(this.$store,"mapGetters",t))return this.$store.getters[r]},s[i].vuex=!0}),s}),y(function(t,e){var s={};return _(e).forEach(function(e){var i=e.key,r=e.val;s[i]=function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var i=this.$store.dispatch;if(t){var o=b(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),s});function _(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function y(t){return function(e,s){return"string"!=typeof e?(s=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,s)}}function b(t,e,s){return t._modulesNamespaceMap[s]}},Uk3I:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),r=s.n(i),o={name:"actionsheet-select",props:{opened:{type:Boolean,default:!1},data:{type:Array,default:null},id:"",flag:{type:Number,default:-1}},data:function(){return{clickNum:0}},computed:{renderData:function(){return{data:this.data,clickNum:this.clickNum}}},methods:{emitEvent:function(t,e){this.$emit("selected",[t,e]),this.close()},close:function(){this.$emit("update:opened",!1)},refreshScroll:function(){this.clickNum++}},components:{}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("action-sheet",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],attrs:{data:t.renderData,scrollerClick:!0},on:{close:t.close}},[s("ul",t._l(t.data,function(e){return s("li",{staticClass:"sel-item between",class:{active:e.ID===t.id},on:{click:function(s){t.emitEvent(e,t.flag)}}},[t._v("\n            \t"+t._s(e.Name)+"\n            \t"),e.ID===t.id?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-xuanzhong"}})]):t._e()])}))])},staticRenderFns:[]};var n=s("VU/8")(o,a,!1,function(t){s("Zrvt")},"data-v-624000b2",null).exports,c={name:"actionsheet-user",props:{opened:{type:Boolean,default:!1},data:{type:Array,default:null}},methods:{emitEvent:function(t){this.$emit("selected",t),this.close()},emitStepEvent:function(){this.close(),this.$emit("goStep")},close:function(){this.$emit("update:opened",!1)}},components:{}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("action-sheet",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],attrs:{position:"center",data:t.data,scrollerClick:!0},on:{close:t.close}},[s("div",{staticClass:"cs-header",attrs:{slot:"header"},slot:"header"},[t._v("您的手机已关联以下用户"),s("p",{staticClass:"desc"},[t._v("请选择一个进行下一步操作")])]),s("div",{staticClass:"cs-body"},[t._l(t.data,function(e){return s("div",{staticClass:"cs-item",on:{click:function(s){t.emitEvent(e)}}},[s("div",{staticClass:"item"},[s("span",{staticClass:"item-avatar",style:"background-image:url("+e.Image+")"}),s("p",{staticClass:"item-desc"},[t._v(t._s(e.FullName))])])])}),s("div",{staticClass:"cs-tips"},[t._v("我选择"),s("span",{staticClass:"important",on:{click:function(e){t.emitStepEvent()}}},[t._v("重新注册")])])],2),s("div",{staticClass:"cs-footer",attrs:{slot:"footer"},slot:"footer"})])},staticRenderFns:[]};var l=s("VU/8")(c,u,!1,function(t){s("FZdK")},"data-v-63a14780",null).exports,d=(s("NYxO"),s("BEBN")),h={name:"register",mixins:[app.mixin.shareMixin],data:function(){return{wxTitle:"手机商城",timeStamp:(new Date).getTime(),stepFlag:0,sendMsg:!1,openSelectSheet:!1,openUserSheet:!1,isLoading:!1,selectFlag:-1,time:0,userList:[],gradeList:[],timeout:null,user:{uname:"",smsCode:"",picCode:"",sex:1,campus:"报名校区",SelectCampusId:"",fullTimeSchool:"",ssxName:"",pwd:"",grade:"年级",gradeId:"00000000-0000-0000-0000-000000000000",phone:"",rePwd:"",CustomerID:"",birthday:"出生日期"},source:!1,isRegist:!1}},computed:r()({},Vuex.mapState(["config","campuslist","companySuffix"])),methods:r()({},Vuex.mapMutations(["set_registerUser"]),{changeRegImage:function(){this.timeStamp=(new Date).getTime()},regPhoneSubmit:function(){var t=this;this._phoneValidate()&&(this.isLoading=!0,Object(d.C)({Mobile:this.user.phone,ValidationCode:this.user.picCode}).then(function(e){t.isLoading=!1,e.ErrorCode==app.errok?e.Data.ValidationResult?(t.userList=e.Data.Users,t.userList.length>0?t.openUserSheet=!0:t.stepFlag=1==t.config.SmsVerify?1:2):app.toast("error","图片验证码不正确。"):app.toast("error",e.ErrorMsg)}))},selectUserAction:function(t){var e=this;t.SSXUserName?(this.set_registerUser(t),app.mallApp.allPages.login?this.$router.back():this.$router.replace("/login")):(this.goStepAction(),this.user.uname=t.FullName,this.user.sex=t.Sex||1,this.user.fullTimeSchool=t.PublicCampusName,this.user.CustomerID=t.CustomerID,t.GradeID&&(this.user.gradeId=t.GradeID,this.gradeList.forEach(function(s){s.ID===t.GradeID&&(e.user.grade=s.Name)})),t.CampusId&&(this.user.SelectCampusId=t.CampusId,this.campuslist.forEach(function(s){s.ID===t.CampusId&&(e.user.campus=s.Name)})),1===this.config.DefaultUserNameRule?this.user.ssxName=this.user.phone:this.user.ssxName=this.user.uname)},goStepAction:function(){this.stepFlag=1==this.config.SmsVerify?1:2},sendMsgCode:function(){var t=this;this.sendMsg||Object(d.K)({Mobile:this.user.phone,Tick:(new Date).getTime(),ValidationCode:this.user.picCode}).then(function(e){e.ErrorCode==app.errok?(document.addEventListener("visibilitychange",t._diffTime),clearTimeout(t._timeout),t.sendMsg=!0,t.time=60,t._beginReCheck(t.time)):app.toast("error",e.ErrorMsg)})},phoneInputEvent:function(){this._resetCode()},backRegPhone:function(){this.stepFlag=0,this._resetCode()},regCodeSubmit:function(){var t=this;this.user.smsCode?(this.isLoading=!0,Object(d.P)({Mobile:this.user.phone,SMSCode:this.user.smsCode}).then(function(e){t.isLoading=!1,e.ErrorCode==app.errok?e.Data?t.stepFlag=2:app.toast("error","验证码错误。"):app.toast("error",e.ErrorMsg)})):app.toast("info","验证码不能为空。")},chooseSex:function(t){this.user.sex=t},selectBirthDay:function(){var t=this;app.datetimePicker().then(function(e){t.user.birthday=e})},openCampusActionsheet:function(){this.openSelectSheet=!0,this.selectFlag=1,this.$refs.actionSheetSelect.refreshScroll()},openGradeActionsheet:function(){this.openSelectSheet=!0,this.selectFlag=2,this.$refs.actionSheetSelect.refreshScroll()},selectAction:function(t){1==t[1]?(this.user.campus=t[0].Name,this.user.SelectCampusId=t[0].ID):2==t[1]&&(this.user.grade=t[0].Name,this.user.gradeId=t[0].ID)},regMoreSubmit:function(){var t=this;this._moreValidate()&&(this.isLoading=!0,Object(d.O)({UserName:this.user.uname,SMSCode:1==this.config.SmsVerify?this.user.smsCode:null,Sex:this.user.sex,SelectCampusId:this.user.SelectCampusId,PublicCampusName:this.user.fullTimeSchool,SSXUserName:this.user.ssxName,Password:this.user.pwd,GradeID:this.user.gradeId,Mobile:this.user.phone,CustomerID:this.user.CustomerID,Birthday:1===this.config.EnableBirthdayCondition||this.source?this.user.birthday:""}).then(function(e){t.isLoading=!1,e.ErrorCode==app.errok?(app.toast("success","注册成功。"),t.set_registerUser({SSXUserName:e.Data.UserName,SSXUserPwd:e.Data.Password}),app.mallApp.allPages.login?t.$router.back():t.$router.replace("/login")):421==e.ErrorCode?(app.toast("error",e.ErrorMsg),t.isRegist=!0):app.toast("error",e.ErrorMsg)}))},checkCustomer:function(){var t=this;0===this.config.DefaultUserNameRule&&(this.user.ssxName=this.user.uname),2==this.config.RegistLimit&&this.user.uname&&this.user.phone&&Object(d.p)({Mobile:this.user.phone,Name:this.user.uname}).then(function(e){if(e.ErrorCode==app.errok){var s=e.Data;s?(t.user.sex=s.Sex,t.user.fullTimeSchool=s.FullTimeSchool,t.campuslist.forEach(function(e){e.ID==s.CampusID&&(t.user.SelectCampusId=s.CampusID,t.user.campus=e.Name)}),t.gradeList.forEach(function(e){e.ID==s.GradeID&&(t.user.gradeId=s.GradeID,t.user.grade=e.Name)})):app.alert("该用户不满足自助注册条件，请联系学校。").then(function(e){setTimeout(function(){t.$router.replace({path:"/login"})},50)})}else app.toast("error",e.ErrorMsg)})},_phoneValidate:function(){if(this.user.phone)if(app.telReg.test(this.user.phone)){if(this.user.picCode)return!0;app.toast("info","图片验证码不能为空。")}else app.toast("info","手机号码格式不正确，请重新输入。");else app.toast("info","手机号不能为空。")},_moreValidate:function(){if(this.user.uname)if(1!==this.config.EnableBirthdayCondition&&!this.source||"出生日期"!==this.user.birthday)if("00000000-0000-0000-0000-000000000000"!=this.user.SelectCampusId)if(this.source||"00000000-0000-0000-0000-000000000000"!=this.user.gradeId){if(!this.source||this.user.fullTimeSchool)return!0;app.toast("info","公立学校不能为空。")}else app.toast("info","年级不能为空。");else app.toast("info","报名校区不能为空。");else app.toast("info","出生日期不能为空");else app.toast("info","姓名不能为空。")},_beginReCheck:function(t){var e=this;this.timeout=setTimeout(function(){t<=0?e._resetCode():(e.time=t-1,e._beginReCheck(e.time))},1e3)},_diffTime:function(){document.hidden?(this.hideArr[0]=(new Date).getTime(),clearTimeout(this.timeout)):(this.hideArr[1]=(new Date).getTime(),this._beginReCheck(this.time-parseInt((this.hideArr[1]-this.hideArr[0])/1e3)))},_resetCode:function(){this.timeout&&clearTimeout(this.timeout),this.sendMsg=!1,document.removeEventListener("visibilitychange",this._diffTime)}}),created:function(){var t=this;console.log(this.$route.query),this.source=!(!this.$route.query.source||"scan"!=this.$route.query.source),this.user.SelectCampusId=this.$route.query.cid?this.$route.query.cid:"",this.user.SelectCampusId&&this.campuslist.forEach(function(e){e.ID==t.user.SelectCampusId&&(t.user.campus=e.Name)}),!this.source&&Object(d.s)().then(function(e){e.ErrorCode==app.errok?t.gradeList=e.Data:app.toast("error",e.ErrorMsg)})},components:{actionsheetSelect:n,actionsheetUser:l},watch:{stepFlag:function(t){var e=this;this.$nextTick(function(){e.$refs.scroller.refresh(),console.log(t),2===t&&1===e.config.DefaultUserNameRule&&(e.user.ssxName=e.user.phone)})}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("scroller-base",{ref:"scroller",staticClass:"scroller",attrs:{data:t.stepFlag}},[s("div",[s("div",{staticClass:"title"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-zhuce"}})])]),0==t.stepFlag?s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],attrs:{type:"tel",placeholder:"手机号",maxlength:"11"},domProps:{value:t.user.phone},on:{input:[function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)},t.phoneInputEvent]}})])]),s("div",{staticClass:"form-code"},[s("div",{staticClass:"form-code-bd"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.picCode,expression:"user.picCode"}],attrs:{type:"text",placeholder:"图片验证码"},domProps:{value:t.user.picCode},on:{input:function(e){e.target.composing||t.$set(t.user,"picCode",e.target.value)}}})])])]),s("div",{staticClass:"form-code-ft pic",style:"background-image: url(api/register/GetValidationImage?"+t.timeStamp+")",on:{click:t.changeRegImage}}),s("div",{staticClass:"form-code-ft desc",on:{click:t.changeRegImage}},[t._v("换一张")])]),s("div",{staticClass:"form-btn primary",on:{click:t.regPhoneSubmit}},[t._v("下一步")])]):t._e(),1==t.stepFlag?s("div",{staticClass:"form"},[s("div",{staticClass:"form-item-tips"},[t._v("您注册的手机号码为 "),s("span",{staticClass:"content"},[t._v(t._s(t.user.phone))])]),s("div",{staticClass:"form-code"},[s("div",{staticClass:"form-code-bd"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.smsCode,expression:"user.smsCode"}],attrs:{type:"tel",placeholder:"验证码"},domProps:{value:t.user.smsCode},on:{input:function(e){e.target.composing||t.$set(t.user,"smsCode",e.target.value)}}})])])]),s("div",{staticClass:"form-code-ft"},[s("div",{staticClass:"form-code-ft-btn",class:{forbid:t.sendMsg},on:{click:t.sendMsgCode}},[t._v(t._s(t.sendMsg?t.time+"s后重发":"获取验证码"))])])]),s("div",{staticClass:"form-btn primary",on:{click:t.regCodeSubmit}},[t._v("下一步")]),s("div",{staticClass:"form-btn back",on:{click:t.backRegPhone}},[t._v("返回")])]):t._e(),2==t.stepFlag?s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.uname,expression:"user.uname"}],attrs:{type:"text",placeholder:"学员姓名"},domProps:{value:t.user.uname},on:{blur:t.checkCustomer,input:function(e){e.target.composing||t.$set(t.user,"uname",e.target.value)}}})])]),s("div",{staticClass:"form-sex"},[s("label",{staticClass:"form-sex-title"},[t._v("性别")]),s("span",{on:{click:function(e){t.chooseSex(1)}}},[t._v("男\n\t\t\t\t\t\t"),s("svg",{staticClass:"icon",class:{checked:1==t.user.sex},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":1==t.user.sex?"#icon-danxuanxuanzhong1":"#icon-danxuanweizhong"}})])]),t._v(" \n\t\t\t\t\t"),s("span",{on:{click:function(e){t.chooseSex(2)}}},[t._v("女\n\t\t\t\t\t\t"),s("svg",{staticClass:"icon",class:{checked:2==t.user.sex},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":2==t.user.sex?"#icon-danxuanxuanzhong1":"#icon-danxuanweizhong"}})])])]),1===t.config.EnableBirthdayCondition||t.source?s("div",{staticClass:"form-item select"},[s("div",{staticClass:"form-item-bd select",class:{active:"出生日期"!=t.user.birthday},on:{click:t.selectBirthDay}},[s("div",[t._v(t._s(t.user.birthday))])]),s("svg",{staticClass:"icon sel",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-xiala"}})])]):t._e(),s("div",{staticClass:"form-item select"},[s("div",{staticClass:"form-item-bd select",class:{active:t.user.SelectCampusId},on:{click:t.openCampusActionsheet}},[s("div",[t._v(t._s(t.user.campus))])]),s("svg",{staticClass:"icon sel",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-xiala"}})])]),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.fullTimeSchool,expression:"user.fullTimeSchool"}],attrs:{type:"text",placeholder:t.source?"公立学校":"公立学校(选填)"},domProps:{value:t.user.fullTimeSchool},on:{input:function(e){e.target.composing||t.$set(t.user,"fullTimeSchool",e.target.value)}}})])]),t.source?t._e():s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd select",class:{active:"00000000-0000-0000-0000-000000000000"!=t.user.gradeId},on:{click:t.openGradeActionsheet}},[s("div",[t._v(t._s(t.user.grade))])]),s("svg",{staticClass:"icon sel",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-xiala"}})])]),t.isRegist?s("p",{staticClass:"form-item-title"},[t._v("设置师生信账号")]):t._e(),t.isRegist?s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.ssxName,expression:"user.ssxName"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.user.ssxName},on:{input:function(e){e.target.composing||t.$set(t.user,"ssxName",e.target.value)}}})]),s("div",{staticClass:"form-item-ft"},[t._v("@"+t._s(t.companySuffix))])]):t._e(),s("div",{staticClass:"form-btn primary",on:{click:t.regMoreSubmit}},[t._v("提 交")])]):t._e(),s("div",{staticClass:"void"})])]),t.isLoading?s("loading",{attrs:{bgType:1}}):t._e(),s("actionsheet-select",{ref:"actionSheetSelect",staticClass:"as-select",attrs:{opened:t.openSelectSheet,flag:t.selectFlag,data:1==t.selectFlag?t.campuslist:t.gradeList,id:1==t.selectFlag?t.user.SelectCampusId:t.user.gradeId},on:{"update:opened":function(e){t.openSelectSheet=e},selected:t.selectAction}}),s("actionsheet-user",{staticClass:"as-select",attrs:{opened:t.openUserSheet,data:t.userList},on:{"update:opened":function(e){t.openUserSheet=e},selected:t.selectUserAction,goStep:t.goStepAction}})],1)},staticRenderFns:[]};var m=s("VU/8")(h,p,!1,function(t){s("puIF")},"data-v-a6b0e564",null);e.default=m.exports},Zrvt:function(t,e){},puIF:function(t,e){}});