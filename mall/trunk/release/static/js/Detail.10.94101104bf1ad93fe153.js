webpackJsonp([10],{"+I4k":function(t,s){},VOee:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("RYx2"),e=i("//Fk"),n=i.n(e),c={mixins:[app.mixin.popupWindowRouteMixin],props:{type:{type:Number}},data:function(){return{opened:!1,detail:{},rsv:null,amount:1}},methods:{open:function(t){var s=this;return this.detail=app.tool.clone(t),this.opened=!0,this.promise=new n.a(function(t){s._rsv=t}),this.promise},closeSelect:function(){var t=this;1==this.type?this.detail.ShiftSpecList.forEach(function(s){s.isSelect&&t._rsv(s)}):this._rsv({amount:this.amount}),this.close()},selectNum:function(t){t.isSelect=!0,this.detail.ShiftSpecList.forEach(function(s){s.ID!==t.ID&&(s.isSelect=!1)})},changeAmount:function(t){this.amount=this.amount+t}}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("action-sheet",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],staticClass:"action-sheet",attrs:{position:"bottom",data:t.scrollerData},on:{close:function(s){t.opened=!1}}},[i("div",{staticClass:"heard",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"heard-left"},[t.detail.Images?i("div",{staticClass:"avatar",style:{backgroundImage:"url("+t.detail.Images[0]+")"}}):t._e()]),i("div",{staticClass:"heard-right"},[i("span",{staticClass:"close",on:{click:t.close}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-guanbi"}})])]),i("div",{staticClass:"right-bottom"},[i("div",{staticClass:"price-wrapper"},[i("div",{staticClass:"price"},[t._v("\n                            ¥"+t._s(t._f("formatNumber")(t.computedMoney))+"\n                        ")]),i("div",[i("span",{staticClass:"text"},[t._v("限量")]),i("span",{staticClass:"num"},[t._v("仅剩10名")])])]),i("div",{staticClass:"old-price"},[t._v("¥2000.21")])])])]),i("div",{staticClass:"course"},[1==t.type?i("div",{staticClass:"select-goods"},[i("div",{staticClass:"select-goods-heard"},[t._v("\n                    规格\n                ")]),i("div",{staticClass:"num-content"},t._l(t.detail.ShiftSpecList,function(s){return i("div",{staticClass:"item",class:{activeNum:s.isSelect},on:{click:function(i){t.selectNum(s)}}},[t._v("\n                        "+t._s(s.Amount)+"课时\n                    ")])}))]):t._e(),1!==t.type?i("div",{staticClass:"select-goods"},[i("div",{staticClass:"select-goods-heard"},[t._v("购买数量")]),i("div",{staticClass:"quantity"},[i("div",{staticClass:"minus",on:{click:function(s){s.stopPropagation(),t.changeAmount(-1)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-jianshaoicon"}})])]),i("div",{staticClass:"num"},[t._v(t._s(t.amount))]),i("div",{staticClass:"add",on:{click:function(s){s.stopPropagation(),t.changeAmount(1)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-iconzengjia"}})])])])]):t._e()]),i("div",{staticClass:"bottom",attrs:{slot:"footer"},on:{click:t.closeSelect},slot:"footer"},[t._v("确定")])])},staticRenderFns:[]};var r={data:function(){return{wxTitle:"商品详情",imgsNum:0,detail:{},num:0,isFavorite:{value:!1,icon:"#icon-xihuan",iconAction:"#icon-xihuan1"},type:1,remainingTime:20}},computed:{scrollerData:function(){return{info:this.detail,num:this.imgsNum}},computedH:function(){var t=0;return this.remainingTime>3600&&(t=parseInt(this.remainingTime/3600)),t<10&&(t="0"+t),t},computedM:function(){var t=0;return this.remainingTime>60&&(t=parseInt(this.remainingTime/60)),t>60&&(t%=60),t<10&&(t="0"+t),t},computedS:function(){var t=0;return(t=this.remainingTime%60)<10&&(t="0"+t),t}},methods:{getData:function(){var t=this;(1==this.type?a.a:a.b)({ProductID:this.$route.params.id}).then(function(s){if(s.ErrorCode==app.errok&&(t.detail=s.Data),1==t.type){for(var i=0;i<3;i++)t.detail.ShiftSpecList.push({Amount:20+10*i,ID:String(i)});t.detail.ShiftSpecList.forEach(function(s,i){0==i?t.$set(s,"isSelect",!0):t.$set(s,"isSelect",!1)})}t.remainingTime>0&&(t.setInt=setInterval(function(){t.remainingTime--,0==t.remainingTime&&clearInterval(t.setInt)},1e3))})},addCart:function(){},shopGoods:function(){var t=this;this.remainingTime>0||this.$refs.selectSpecs.open(this.detail).then(function(s){1==t.type?t.detail.ShiftSpecList.forEach(function(t){t.ID==s.ID?t.isSelect=!0:t.isSelect=!1}):console.log(s),setTimeout(function(){t.$router.push({path:"/order/"+t.type})})})},imgLoaded:function(){console.log("11111111111")}},created:function(){this.type=parseInt(this.$route.params.type),this.getData(),window.a=this},components:{SelectSpecs:i("VU/8")(c,o,!1,function(t){i("dY9y")},"data-v-29c4903c",null).exports}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"detail"},[i("scroller-base",{staticClass:"goods-detail",attrs:{data:t.scrollerData}},[i("div",{ref:"heard",staticClass:"heard"},[t.detail.Images&&0!=t.detail.Images.length?i("div",{staticClass:"heard-banner"},[i("slider",{staticClass:"banner"},t._l(t.detail.Images,function(t,s){return i("a",{key:s,staticClass:"banner-item",style:"background-image:url("+t+")"})}))],1):t._e()]),i("div",{staticClass:"info"},[i("div",{staticClass:"info-left"},[i("span",{staticClass:"spec"},[t._v("限量秒杀")]),t._v("\n                仅剩50名\n            ")]),i("div",{staticClass:"info-right"},[i("div",{staticClass:"text"},[t._v("距结束")]),i("div",[i("span",[t._v(t._s(t.computedH))]),t._v("\n                     : "),i("span",[t._v(t._s(t.computedM))]),t._v(" : "),i("span",[t._v(t._s(t.computedS))])])])]),i("div",{staticClass:"primary-info"},[i("div",{staticClass:"name"},[t._v(t._s(t.detail.Name))]),i("div",{staticClass:"mini-info"},[t._v("\n                开课时间：2019.03.12\n            ")]),i("div",{staticClass:"mini-info"},[t._v("\n                上课时间：周一至周三10：30，周二至周五17：50\n            ")]),i("div",{staticClass:"price-info"},[i("div",{staticClass:"price"},[t._v("¥1885-6020")]),i("div",{staticClass:"old-price-wrapper"},[t._v("\n                    价格：\n                    "),i("span",{staticClass:"old-price"},[t._v("¥2000-3000")])])])]),i("div",{staticClass:"propetry"},[i("div",{staticClass:"propetry-heard"},[i("div",{staticClass:"litter"}),i("div",{staticClass:"text"},[t._v("属性")])]),i("div",{staticClass:"propetry-body"},[i("div",{staticClass:"body-item"},[i("div",{staticClass:"body-item-left"},[t._v("科目")]),i("div",{staticClass:"body-item-right"},[t._v("一年级")])]),i("div",{staticClass:"body-item"},[i("div",{staticClass:"body-item-left"},[t._v("年级")]),i("div",{staticClass:"body-item-right"},[t._v("一年级")])]),i("div",{staticClass:"body-item"},[i("div",{staticClass:"body-item-left"},[t._v("班型")]),i("div",{staticClass:"body-item-right"},[t._v("集体班")])]),i("div",{staticClass:"body-item"},[i("div",{staticClass:"body-item-left"},[t._v("计费方式")]),i("div",{staticClass:"body-item-right"},[t._v("按课时计费")])]),i("div",{staticClass:"body-item"},[i("div",{staticClass:"body-item-left"},[t._v("属性")]),i("div",{staticClass:"body-item-right"},[t._v("自定义属性自定义属性自定义属性自定义属性自定义属性自定义属性自定义属性自定义属性自定义属性")])])])]),i("div",{staticClass:"propetry"},[i("div",{staticClass:"propetry-heard"},[i("div",{staticClass:"litter"}),i("div",{staticClass:"text"},[t._v("详情")])]),i("rich-text-area",{attrs:{richText:t.detail.DetailText},on:{imgLoaded:t.imgLoaded}})],1)]),i("div",{staticClass:"bottom"},[i("router-link",{staticClass:"shop-car",attrs:{tag:"div",to:"/cart"}},[i("div",{staticClass:"circle"},[t._v("16")]),i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-gouwuche1"}})]),i("div",{staticClass:"text"},[t._v("\n                购物车\n            ")])]),i("div",{staticClass:"collect"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":t.isFavorite.value?t.isFavorite.iconAction:t.isFavorite.icon}})]),i("div",{staticClass:"text"},[t._v("\n                收藏\n            ")])]),i("div",{staticClass:"click-wrapper"},[i("div",{staticClass:"sign-up",class:{"not-sale":t.remainingTime>0},on:{click:t.addCart}},[t._v("\n                加入购物车\n            ")]),i("div",{staticClass:"join-car",class:{"not-sale":t.remainingTime>0},on:{click:t.shopGoods}},[t._v("\n             立即报名")])])],1),i("select-specs",{ref:"selectSpecs",attrs:{type:t.type}})],1)},staticRenderFns:[]};var d=i("VU/8")(r,l,!1,function(t){i("+I4k")},"data-v-86f743f0",null);s.default=d.exports},dY9y:function(t,s){}});