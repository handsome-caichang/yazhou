webpackJsonp([6],{"+AV7":function(t,e,i){"use strict";var s=i("//Fk"),a=i.n(s),o={name:"rich-text-area",props:{richText:{type:String},enableImgLoadEvent:{type:Boolean,default:!0},enableImagePreview:{type:Boolean,default:!0}},data:function(){return{_voice:"",status:0}},methods:{imageLoadHandler:function(t,e){var i=this;return new a.a(function(i){var s=parseInt(t.style.width||t.getAttribute("width")),a=parseInt(t.style.height||t.getAttribute("height"));s&&a&&s>e&&(t.style.width=e+"px",t.style.height=e/s*a+"px"),t.addEventListener("load",function(){i("onload")}),t.addEventListener("error",function(){i("onerror")})}).then(function(t){return i.enableImgLoadEvent&&i.$emit("imgLoaded"),t})},processor:function(){var t=this,e=this.$refs.richTextBox,i=e.offsetWidth,s=e.querySelectorAll("img"),o=[],n=[],r=new RegExp("^((http|https)://|data:image)");if(Array.prototype.forEach.call(s,function(e,s){var a=e.src;a&&r.test(a)?(o.push(a),n.push(t.imageLoadHandler(e,i))):(e.style.width=0,e.style.height=0)}),a.a.all(n).then(function(t){t.forEach(function(t,e){"onerror"===t&&o.splice(e,1)})}),this.enableImagePreview){var c=0;e.addEventListener("click",function(t){var e=(new Date).getTime();if(!(e-c<500)){c=e;var i=t.target;"img"===i.nodeName.toLowerCase()&&app.sdk.previewImage({current:i.src,urls:o})}})}},voiceFormat:function(){var t=this,e={loading:function(){t.status=1,t._voice.classList.add("loading")},playing:function(){t.status=2,t._voice.classList.add("play")},end:function(){t.status=0,t._voice.classList.remove("loading"),t._voice.classList.remove("play")},endAuto:function(){t.status=0,t._voice.classList.remove("loading"),t._voice.classList.remove("play")},error:function(){t.status=0,t._voice.classList.remove("loading"),t._voice.classList.remove("play")}};this.$refs.richTextBox.addEventListener("click",function(i){t._voice&&t._voice==i.target&&2==t.status?app.voice.stop():(t._voice&&t._voice!=i.target&&app.voice.stop(),t._voice=i.target,"voice"===t._voice.className&&app.voice.play(t._voice.getAttribute("url"),e))})}},mounted:function(){this.processor(),this.voiceFormat()},beforeDestroy:function(){app.voice.flag&&app.voice.stop()}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"richTextBox",staticClass:"rich-text-box",domProps:{innerHTML:this._s(this.richText)}})},staticRenderFns:[]};var r=i("VU/8")(o,n,!1,function(t){i("fZfO")},null,null);e.a=r.exports},"4z9L":function(t,e,i){t.exports=i.p+"static/img/600.489e0c4.png"},"6PB2":function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),o=i("mw3O"),n=i.n(o);function r(t){var e=void 0,i=void 0;return t.cancelToken=new axios.CancelToken(function(t){return i=t}),(e=axios(t).then(function(t){return function(t){200!==t.data.result.code&&(540==t.data.result.code&&(location.href=app.sysInfo.wxsrvloginurl),console.error("api:"+t.config.url+" ",t.data.result))}(t),t.data}).catch(function(t){return function(t){if(console.log(t),console.log(t.response),"Error: Network Error"!=t){if(t.response){var e=t.response;e.status,console.error("http请求出错: Api:"+e.config.url),console.log(e)}}else app.toast("error","网络错误，请检查网络连接。")}(t),{result:{code:1e3,msg:t}}})).cancel=i,e}axios.ajax=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",s=app.tool.parseQuery(),o=s.ip?""+s.ip+t:t,c=a()({_t_:(new Date).getTime()},e);return r({method:i,url:o,params:"get"===i?c:null,paramsSerializer:function(t){return n.a.stringify(t)},data:"post"===i?c:null})},axios.smajax=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return axios.ajax("/wx.do?appid=2&action="+t,e,i)};e.a=axios},"9/YC":function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),o=i("mw3O"),n=i.n(o);function r(t){var e=void 0,i=void 0;return t.cancelToken=new axios.CancelToken(function(t){return i=t}),(e=axios(t).then(function(t){return function(t){200!==t.data.result.code&&(console.error("api:"+t.config.url+" ",t.data.result),540==t.data.result.code&&(location.href=app.sysInfo.weixinparentserverurl))}(t),t.data}).catch(function(t){return function(t){if(console.log(t),console.log(t.response),"Error: Network Error"!=t){if(t.response){var e=t.response;e.status,console.error("http请求出错: Api:"+e.config.url),console.log(e)}}else app.toast("error","网络错误，请检查网络连接。")}(t),{result:{code:1e3,msg:t}}})).cancel=i,e}axios.ajax=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",s=app.tool.parseQuery(),o=s.ip?""+s.ip+t:t,c=a()({_t_:(new Date).getTime()},e);return r({method:i,url:o,params:"get"===i?c:null,paramsSerializer:function(t){return n.a.stringify(t)},data:"post"===i?c:null})},axios.smajax=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return axios.ajax("/wx.do?appid=2&action="+t,e,i)};e.a=axios},"9Kzx":function(t,e,i){"use strict";e.b=function(t){return s.a.smajax("gethomeworkinfos",t)},e.a=function(t){return s.a.smajax("gethomeworkdetailinfo",t)},e.c=function(t){return s.a.smajax("submithomework",t)};var s=i("9/YC")},"Ip/g":function(t,e){},MJgu:function(t,e){},QtdQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("//Fk"),a=i.n(s),o=i("9Kzx"),n=i("oKFX"),r=i("+AV7"),c={name:"homework-detail",data:function(){return{wxTitle:"作业详情",isLoading:!0,errorFlag:!1,errorTips:"",refreshNum:0,queryPara:null,detail:null,showContent:!1,taskWork:null,myreplyContent:"",voiceArr:[],voiceArrDefault:[],imageArr:[],imageArrDefault:[],taskWorkTypeNums:0,isShowMoreTaskWork:!1,comment:null}},computed:{renderData:function(){return{refreshNum:this.refreshNum,detail:this.detail,isShowMoreContent:this.isShowMoreContent,isShowMoreTaskWork:this.isShowMoreTaskWork}},isShowMoreContent:function(){return!this.comment||this.showContent}},methods:{voiceFinished:function(t,e){this.voiceArr=t,this.refreshNum++},imageFinished:function(t,e){this.imageArr=t},handlerTaskWork:function(){this.taskWork.content?this.showTaskWorkType=1:this.taskWork.mp3list.length>0?this.showTaskWorkType=2:this.taskWork.imglist.length>0&&(this.showTaskWorkType=3),""!=this.taskWork.content&&this.taskWorkTypeNums++,this.taskWork.mp3list.length>0&&this.taskWorkTypeNums++,this.taskWork.imglist.length>0&&this.taskWorkTypeNums++},getDetail:function(){var t=this;Object(o.a)({messageid:this.queryPara.id}).then(function(e){t.isLoading=!1,e.result.code==app.errok?(t.detail=e.data,1==e.data.issubmit&&(t.taskWork=e.data.submitinfo,t.handlerTaskWork()),e.data.evalinfo.id&&(t.comment=e.data.evalinfo)):400==e.result.code?(t.errorFlag=!0,t.errorTips=e.result.msg):app.toast("error",e.result.msg)})},submit:function(){var t=this;if(console.log("提交this",this),""!=app.tool.trim(this.myreplyContent)||0!=this.voiceArr.length||0!=this.imageArr.length){this.isLoading=!0;var e=[],i=[];this.voiceArr.concat(this.imageArr).forEach(function(t){t.promise&&e.push(t.promise)}),e.length>0?a.a.all(e).then(function(e){e.forEach(function(t){i.push(t)}),t.send({refmessageid:t.queryPara.id,subject:t.detail.title,content:app.tool.arrowFilter(t.myreplyContent),mediaids:i.join(",")})}).catch(function(e){t.isLoading=!1,app.toast("error","上传附件失败，请在网络畅通时重新尝试。")}):this.send({refmessageid:this.queryPara.id,subject:this.detail.title,content:app.tool.arrowFilter(this.myreplyContent),mediaids:""})}else app.toast("info","请输入提交内容。")},send:function(t){var e=this;Object(o.c)(t).then(function(t){e.isLoading=!1,console.log(t),t.result.code==app.errok?(app.toast("success","作业提交成功！"),app.eventDefine.emit("homeworkSave"),e.$nextTick(function(){1==e.$route.query.push?app.sdk.closeWindow():e.$router.back()})):app.toast("error",t.errmsg)})}},created:function(){this.queryPara=this.$route.params,this.getDetail()},components:{ErrorPage:n.a,RichTextArea:r.a}},l={render:function(){var t=this,e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"homework-detail"},[e.detail?s("div",{staticClass:"section"},[s("scroller-base",{staticClass:"scroller",class:{"no-submit":!e.taskWork},attrs:{data:e.renderData}},[s("div",{staticClass:"body"},[s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[e._v(e._s(e.detail.title))]),s("div",{staticClass:"info"},[s("span",[s("svg",{staticClass:"icon time-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-shangkeshijianicon"}})]),e._v(e._s(e._f("formatDatetime")(e.detail.createtime,"yyyy.MM.dd hh:mm"))+"\n                            ")]),s("span",{staticClass:"info-user"},[e._v(e._s(e.detail.nickname)+"\n                            ")])])]),s("div",{staticClass:"content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMoreContent,expression:"isShowMoreContent"}],staticClass:"rich-text",domProps:{innerHTML:e._s(e.app.tool.richTextToHtml(e.detail.content))}}),e.detail.mp3list.length?s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMoreContent,expression:"isShowMoreContent"}],staticClass:"voice-wrap"},[s("voice-recording",{attrs:{edit:!1,audioFileList:e.detail.mp3list},on:{voiceFinished:function(t){e.refreshNum++}}})],1):e._e(),e.detail.imglist.length?s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMoreContent,expression:"isShowMoreContent"}],staticClass:"img-box"},[s("img-area",{attrs:{edit:!1,imageType:1,imageFileList:e.detail.imglist},on:{imageLoaded:function(t){e.refreshNum++}}})],1):e._e(),e.comment?s("div",{staticClass:"content-feedback-more",on:{click:function(){e.showContent=!e.showContent}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.isShowMoreContent?"#icon-shangla":"#icon-xiala"}})]),e._v(e._s(e.isShowMoreContent?"收起":"展开完整内容")+"\n                        ")]):e._e()]),s("div",{staticClass:"void"}),s("div",{staticClass:"content"},[s("div",{staticClass:"content-hd task"},[s("span",{staticClass:"content-hd-icon bg2"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-wodezuoye"}})])]),e._v("我的回答\n                            "),e.taskWork?s("span",{staticClass:"content-hd-time"},[e._v(e._s(e.taskWork.createtime&&e.taskWork.createtime.substring(0,16)))]):e._e()]),e.taskWork?s("div",{staticClass:"content-bd pd"},[e.taskWork.content?s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showTaskWorkType,expression:"showTaskWorkType==1"}],staticClass:"content-box",domProps:{innerHTML:e._s(e.app.tool.textToHtml(e.taskWork.content))}}):e._e(),e.taskWork.mp3list.length>0?s("voice-recording",{directives:[{name:"show",rawName:"v-show",value:2==e.showTaskWorkType||e.isShowMoreTaskWork,expression:"showTaskWorkType==2||isShowMoreTaskWork"}],staticClass:"wrapper",attrs:{edit:!1,audioFileList:e.taskWork.mp3list}}):e._e(),e.taskWork.imglist.length>0?s("img-area",{directives:[{name:"show",rawName:"v-show",value:3==e.showTaskWorkType||e.isShowMoreTaskWork,expression:"showTaskWorkType==3||isShowMoreTaskWork"}],staticClass:"wrapper",attrs:{edit:!1,imageType:0,imageFileList:e.taskWork.imglist},on:{imageLoaded:function(){t.refreshNum++}}}):e._e(),e.taskWorkTypeNums>1?s("div",{staticClass:"content-feedback-more",on:{click:function(){e.isShowMoreTaskWork=!e.isShowMoreTaskWork}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.isShowMoreTaskWork?"#icon-shangla":"#icon-xiala"}})]),e._v(e._s(e.isShowMoreTaskWork?"收起":"展开完整内容")+"\n                            ")]):s("div",{staticClass:"void"})],1):s("div",{staticClass:"content-bd pd"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.myreplyContent,expression:"myreplyContent"}],attrs:{placeholder:"请在此回答作业内容（限300字）",maxlength:"300"},domProps:{value:e.myreplyContent},on:{touchstart:function(t){e.app.area.start(t)},touchmove:function(t){e.app.area.move(t)},touchend:function(t){e.app.area.end(t)},input:function(t){t.target.composing||(e.myreplyContent=t.target.value)}}}),s("voice-recording",{staticClass:"wrapper",attrs:{eventType:"click",edit:!0,audioFileList:e.voiceArrDefault},on:{voiceFinished:e.voiceFinished}}),s("img-area",{staticClass:"wrapper",attrs:{imageMaxNum:9,imageFileList:e.imageArrDefault},on:{imageLoaded:function(){t.refreshNum++},imageFinished:e.imageFinished}}),s("div",{staticClass:"void"})],1)]),e.comment?s("div",{staticClass:"void"}):e._e(),e.comment?s("div",{staticClass:"content"},[s("div",{staticClass:"content-hd"},[s("div",{staticClass:"content-hd-teacher"},[s("div",{staticClass:"content-hd-avatar",style:"background-image:url("+e.detail.photo+")"}),s("div",[s("div",[e._v(e._s(e.detail.nickname))]),s("div",{staticClass:"content-hd-time"},[e._v(e._s(e.comment.createtime.substring(0,16)))])]),s("div",{staticClass:"content-hd-score"},[e._v(e._s(e.comment.score)),0==e.comment.scoreType?s("span",{staticClass:"score"},[e._v("分")]):e._e()]),s("svg",{staticClass:"icon content-hd-comment",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-dianpingbiaoqian"}})])])]),s("div",{staticClass:"content-bd pd"},[e.comment.content?s("div",{staticClass:"content-box comment",domProps:{innerHTML:e._s(e.app.tool.textToHtml(e.comment.content))}}):e._e(),e.comment.mp3list.length>0?s("voice-recording",{staticClass:"wrapper",attrs:{edit:!1,audioFileList:e.comment.mp3list},on:{voiceFinished:function(t){e.refreshNum++}}}):e._e(),e.comment.imglist.length>0?s("img-area",{staticClass:"wrapper",attrs:{edit:!1,imageType:0,imageFileList:e.comment.imglist},on:{imageLoaded:function(){t.refreshNum++}}}):e._e()],1),s("div",{staticClass:"void"})]):e._e()])]),e.taskWork?e._e():s("div",{staticClass:"footer"},[s("div",{staticClass:"submit-btn",on:{click:function(t){e.submit()}}},[e._v("提交")])])],1):e._e(),e.errorFlag?s("error-page",{staticClass:"error-temp",attrs:{type:600,text:e.errorTips}}):e._e(),s("loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loading",attrs:{bgType:2}})],1)},staticRenderFns:[]};var d=i("VU/8")(c,l,!1,function(t){i("MJgu")},"data-v-ef219e8c",null);e.default=d.exports},Zi37:function(t,e){},ZzLU:function(t,e){},app8:function(t,e,i){"use strict";e.e=function(t){return s.a.smajax("gethomeworkforteacher",t)},e.d=function(t){return s.a.smajax("gethomeworkdetailforteacher",t)},e.c=function(t){return s.a.smajax("getcoursestudentforhomework")},e.g=function(t){return s.a.smajax("ophomework",t)},e.a=function(t){return s.a.smajax("deletehomework",t)},e.f=function(t){return s.a.smajax("getmessagereadinfos",t)},e.b=function(t){return s.a.smajax("evalhomework",t)};var s=i("6PB2")},fZfO:function(t,e){},m0Kw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("app8"),a={components:{RichTextArea:i("ubef").a},data:function(){return{wxTitle:"作业详情",isLoading:!0,loadingType:0,refreshNum:0,subject:"",shiftName:"",createTime:"",createUser:"",isreadcount:0,content:"",mp3list:[],imglist:[]}},computed:{getId:function(){return this.$router.currentRoute.params.id},getParams:function(){return this.$route.query},contentHtml:function(){return{shiftName:this.shiftName,content:this.content,refreshNum:this.refreshNum}}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var t=this,e=this;Object(s.d)({pname:"message_detail",messageid:this.getId}).then(function(i){t.isLoading=!1,200==i.result.code&&(e.subject=i.data.title,e.createUser=i.data.createuser,e.shiftName=i.data.classname,e.createTime=t.formatDate(i.data.msgcreatetime),e.isreadcount=i.data.isreadcount,e.content=app.tool.richTextToHtml(i.data.content),e.mp3list=i.data.mp3list,e.imglist=i.data.imglist)})},deleteHomework:function(){var t=this;this.loadingType=1;var e=this.isreadcount>0?"已有"+this.isreadcount+"名学员查看，确定要删除该作业吗？":"确认要删除吗？";app.confirm(e).then(function(e){e&&Object(s.a)({messageid:t.getId}).then(function(e){200==e.result.code?(app.eventDefine.emit("removeItem-homework-list"),app.toast("success","已删除。"),t.$router.back()):app.toast("error",e.ErrorMsg),setTimeout(function(){t.isLoading=!1},300)})})},formatDate:function(t){var e=t.split(" ")[1];e=e.split(":").splice(0,2).join(":");var i=t.split(" ")[0],s=i.split("-")[0],a=i.split("-")[1],o=i.split("-")[2],n=new Date;return{ymd:n.getFullYear()+""===s&&(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1+"")===a&&(n.getDate()<10?"0"+n.getDate():n.getDate()+"")===o?"今天":i,time:e}}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"homework-detail"},[i("div",{staticClass:"body"},[i("scroller-base",{staticClass:"scroller",attrs:{data:t.contentHtml}},[i("div",{staticClass:"s-body"},[i("div",{staticClass:"homework-info"},[i("div",{staticClass:"title"},[i("span",[t._v(t._s(t.subject))]),"今天"==t.createTime.ymd&&t.app.tool.op("MessageNoticeDelete")&&0==t.getParams.from?i("span",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.deleteHomework()}}},[i("svg",{staticClass:"icon delete",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchuyuyin2"}})])]):t._e()]),i("div",{staticClass:"author"},[i("span",[i("svg",{staticClass:"icon card-next",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-laoshifabu"}})]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.createUser)+"\n\t\t\t\t\t\t\t")]),i("span",[i("svg",{staticClass:"icon card-next",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-riqiicon"}})]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.createTime.ymd+" "+t.createTime.time)+"\n\t\t\t\t\t\t\t")])])]),i("div",{staticClass:"rich-text-container"},[i("div",{staticClass:"content-box"},[i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}})]),t.mp3list.length?i("div",{staticClass:"voice-box"},[i("voice-recording",{attrs:{edit:!1,audioFileList:t.mp3list},on:{voiceFinished:function(e){t.refreshNum++}}})],1):t._e(),t.imglist.length?i("div",{staticClass:"img-box"},[i("img-area",{attrs:{edit:!1,imageType:1,imageFileList:t.imglist},on:{imageLoaded:function(e){t.refreshNum++}}})],1):t._e()])])])],1),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading",attrs:{type:t.loadingType}})],1)},staticRenderFns:[]};var n=i("VU/8")(a,o,!1,function(t){i("ZzLU")},"data-v-5e14a6ec",null);e.default=n.exports},oKFX:function(t,e,i){"use strict";var s=i("4z9L"),a=i.n(s),o={name:"error-page",props:{type:{type:Number,default:1},text:{type:String,default:""}},data:function(){return{pages:{no600:{img:a.a,width:150,height:150}}}},computed:{page:function(){var t=this.pages["no"+this.type];return{style:{width:t.width/2+"px",height:t.height/2+"px",backgroundImage:"url("+t.img+")"}}}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-box"},[e("div",{staticClass:"error-img",style:this.page.style}),e("div",{staticClass:"error-tips"},[this._v(this._s(this.text))])])},staticRenderFns:[]};var r=i("VU/8")(o,n,!1,function(t){i("Zi37")},"data-v-91b68510",null);e.a=r.exports},ubef:function(t,e,i){"use strict";var s=i("//Fk"),a=i.n(s),o={name:"rich-text-area",props:{richText:{type:String},enableImgLoadEvent:{type:Boolean,default:!0},enableImagePreview:{type:Boolean,default:!0}},data:function(){return{_voice:"",status:0}},methods:{imageLoadHandler:function(t,e){var i=this;return new a.a(function(i){var s=parseInt(t.style.width||t.getAttribute("width")),a=parseInt(t.style.height||t.getAttribute("height"));s&&a&&s>e&&(t.style.width=e+"px",t.style.height=e/s*a+"px"),t.addEventListener("load",function(){i("onload")}),t.addEventListener("error",function(){i("onerror")})}).then(function(t){return i.enableImgLoadEvent&&i.$emit("imgLoaded"),t})},processor:function(){var t=this,e=this.$refs.richTextBox,i=e.offsetWidth,s=e.querySelectorAll("img"),o=[],n=[],r=new RegExp("^((http|https)://|data:image)");if(Array.prototype.forEach.call(s,function(e,s){var a=e.src;a&&r.test(a)?(o.push(a),n.push(t.imageLoadHandler(e,i))):(e.style.width=0,e.style.height=0)}),a.a.all(n).then(function(t){t.forEach(function(t,e){"onerror"===t&&o.splice(e,1)})}),this.enableImagePreview){var c=0;e.addEventListener("click",function(t){var e=(new Date).getTime();if(!(e-c<500)){c=e;var i=t.target;"img"===i.nodeName.toLowerCase()&&app.sdk.previewImage({current:i.src,urls:o})}})}},voiceFormat:function(){var t=this,e={loading:function(){t.status=1,t._voice.classList.add("loading")},playing:function(){t.status=2,t._voice.classList.add("play")},end:function(){t.status=0,t._voice.classList.remove("loading"),t._voice.classList.remove("play")},endAuto:function(){t.status=0,t._voice.classList.remove("loading"),t._voice.classList.remove("play")},error:function(){t.status=0,t._voice.classList.remove("loading"),t._voice.classList.remove("play")}};this.$refs.richTextBox.addEventListener("click",function(i){t._voice&&t._voice==i.target&&2==t.status?app.voice.stop():(t._voice&&t._voice!=i.target&&app.voice.stop(),t._voice=i.target,"voice"===t._voice.className&&app.voice.play(t._voice.getAttribute("url"),e))})}},mounted:function(){this.processor(),this.voiceFormat()},beforeDestroy:function(){app.voice.flag&&app.voice.stop()}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"richTextBox",staticClass:"rich-text-box",domProps:{innerHTML:this._s(this.richText)}})},staticRenderFns:[]};var r=i("VU/8")(o,n,!1,function(t){i("Ip/g")},null,null);e.a=r.exports}});