webpackJsonp([8],{"+ZVV":function(e,t,n){"use strict";t.c=function(e){return a.a.smajax("getuserinfobyuid",e)},t.d=function(e){return a.a.smajax("getwxsysinfos",e)},t.a=function(){return a.a.smajax("gethomepageinfo",{IsParent:1})},t.h=function(e){return a.a.smajax("opuserpwd",e)},t.g=function(e){return a.a.smajax("opuserphoto",e)},t.b=function(e){return a.a.smajax("getschoolandgrade",e)},t.f=function(e){return a.a.smajax("opstudentinfoforwx",e)},t.e=function(){return a.a.smajax("logout")};var a=n("9/YC")},"5ijU":function(e,t,n){"use strict";t.b=function(e){return a.a.smajax("getuserinfobyuid",e)},t.d=function(e){return a.a.smajax("getwxsysinfos",e)},t.a=function(){return a.a.smajax("gethomepageinfo",{isparent:0})},t.h=function(e){return a.a.smajax("userchangerole",e)},t.g=function(e){return a.a.smajax("opuserpwd",e)},t.f=function(e){return a.a.smajax("opuserphoto",e)},t.e=function(){return a.a.smajax("logout")},t.c=function(){return a.a.smajax("getvaliditymsg")};var a=n("6PB2")},"6PB2":function(e,t,n){"use strict";var a=n("Dd8w"),o=n.n(a),s=n("mw3O"),r=n.n(s);function i(e){var t=void 0,n=void 0;return e.cancelToken=new axios.CancelToken(function(e){return n=e}),(t=axios(e).then(function(e){return function(e){200!==e.data.result.code&&(540==e.data.result.code&&(location.href=app.sysInfo.wxsrvloginurl),console.error("api:"+e.config.url+" ",e.data.result))}(e),e.data}).catch(function(e){return function(e){if(console.log(e),console.log(e.response),"Error: Network Error"!=e){if(e.response){var t=e.response;t.status,console.error("http请求出错: Api:"+t.config.url),console.log(t)}}else app.toast("error","网络错误，请检查网络连接。")}(e),{result:{code:1e3,msg:e}}})).cancel=n,t}axios.ajax=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",a=app.tool.parseQuery(),s=a.ip?""+a.ip+e:e,d=o()({_t_:(new Date).getTime()},t);return i({method:n,url:s,params:"get"===n?d:null,paramsSerializer:function(e){return r.a.stringify(e)},data:"post"===n?d:null})},axios.smajax=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return axios.ajax("/wx.do?appid=2&action="+e,t,n)};t.a=axios},"7qfM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("+ZVV"),o={name:"password-modify",computed:{isActive:function(){return this.oldPwd.length>0&&this.newPwd.length>0&&this.confirmPwd.length>0}},data:function(){return{wxTitle:"修改密码",oldPwd:"",newPwd:"",confirmPwd:"",isLoading:!1}},methods:{confirm:function(e){var t=this,n=e.target;app.dom.hasClass(n,"active")&&this._baseValidate()&&Object(a.h)({oldpwd:this.oldPwd,newpwd:this.newPwd}).then(function(e){t.isLoading=!1,e.result.code==app.errok?(app.toast("success","修改密码成功。"),t.$router.back()):app.toast("error",e.result.msg)})},_baseValidate:function(){if(this.confirmPwd==this.newPwd){if(app.regExp.pwdReg.test(this.newPwd))return!0;app.toast("info","新密码格式不正确，请重新输入。")}else app.toast("info","您输入的两次密码不一致，请重新输入。")}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("scroller-base",{staticClass:"password-modify"},[n("div",{staticClass:"ps-form"},[n("div",{staticClass:"title"},[n("div",[e._v("用户名")]),n("div",{staticClass:"title-name"},[e._v(e._s(e.app.sysInfo.username))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPwd,expression:"oldPwd"}],attrs:{type:"password",placeholder:"请输入旧密码"},domProps:{value:e.oldPwd},on:{input:function(t){t.target.composing||(e.oldPwd=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPwd,expression:"newPwd"}],attrs:{type:"password",placeholder:"请输入4位数以上的新密码"},domProps:{value:e.newPwd},on:{input:function(t){t.target.composing||(e.newPwd=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPwd,expression:"confirmPwd"}],attrs:{type:"password",placeholder:"请重新输入新密码"},domProps:{value:e.confirmPwd},on:{input:function(t){t.target.composing||(e.confirmPwd=t.target.value)}}}),n("div",{staticClass:"btn",class:{active:e.isActive},on:{click:function(t){e.confirm(t)}}},[e._v("确定")])]),n("loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var r=n("VU/8")(o,s,!1,function(e){n("b9Yb")},"data-v-82bd8416",null);t.default=r.exports},"9/YC":function(e,t,n){"use strict";var a=n("Dd8w"),o=n.n(a),s=n("mw3O"),r=n.n(s);function i(e){var t=void 0,n=void 0;return e.cancelToken=new axios.CancelToken(function(e){return n=e}),(t=axios(e).then(function(e){return function(e){200!==e.data.result.code&&(console.error("api:"+e.config.url+" ",e.data.result),540==e.data.result.code&&(location.href=app.sysInfo.weixinparentserverurl))}(e),e.data}).catch(function(e){return function(e){if(console.log(e),console.log(e.response),"Error: Network Error"!=e){if(e.response){var t=e.response;t.status,console.error("http请求出错: Api:"+t.config.url),console.log(t)}}else app.toast("error","网络错误，请检查网络连接。")}(e),{result:{code:1e3,msg:e}}})).cancel=n,t}axios.ajax=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",a=app.tool.parseQuery(),s=a.ip?""+a.ip+e:e,d=o()({_t_:(new Date).getTime()},t);return i({method:n,url:s,params:"get"===n?d:null,paramsSerializer:function(e){return r.a.stringify(e)},data:"post"===n?d:null})},axios.smajax=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return axios.ajax("/wx.do?appid=2&action="+e,t,n)};t.a=axios},B2bS:function(e,t){},LnMJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("5ijU"),o={name:"password-modify",computed:{isActive:function(){return this.oldPwd.length>0&&this.newPwd.length>0&&this.confirmPwd.length>0}},data:function(){return{wxTitle:"修改密码",oldPwd:"",newPwd:"",confirmPwd:"",isLoading:!1}},methods:{confirm:function(e){var t=this,n=e.target;app.dom.hasClass(n,"active")&&this._baseValidate()&&Object(a.g)({oldpwd:this.oldPwd,newpwd:this.newPwd}).then(function(e){t.isLoading=!1,e.result.code==app.errok?(app.toast("success","修改密码成功。"),t.$router.back()):app.toast("error",e.result.msg)})},_baseValidate:function(){if(this.confirmPwd==this.newPwd){if(app.regExp.pwdReg.test(this.newPwd))return!0;app.toast("info","新密码格式不正确，请重新输入。")}else app.toast("info","您输入的两次密码不一致，请重新输入。")}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("scroller-base",{staticClass:"password-modify"},[n("div",{staticClass:"ps-form"},[n("div",{staticClass:"title"},[n("div",[e._v("用户名")]),n("div",{staticClass:"title-name"},[e._v(e._s(e.app.sysInfo.username))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPwd,expression:"oldPwd"}],attrs:{type:"password",placeholder:"请输入旧密码"},domProps:{value:e.oldPwd},on:{input:function(t){t.target.composing||(e.oldPwd=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPwd,expression:"newPwd"}],attrs:{type:"password",placeholder:"请输入4位数以上的新密码"},domProps:{value:e.newPwd},on:{input:function(t){t.target.composing||(e.newPwd=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPwd,expression:"confirmPwd"}],attrs:{type:"password",placeholder:"请重新输入新密码"},domProps:{value:e.confirmPwd},on:{input:function(t){t.target.composing||(e.confirmPwd=t.target.value)}}}),n("div",{staticClass:"btn",class:{active:e.isActive},on:{click:function(t){e.confirm(t)}}},[e._v("确定")])]),n("loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loading"})],1)},staticRenderFns:[]};var r=n("VU/8")(o,s,!1,function(e){n("B2bS")},"data-v-ccf87e1a",null);t.default=r.exports},b9Yb:function(e,t){}});