<style lang="scss" scoped>
    @import "src/assets/scss/variable.scss";
    @import "src/assets/scss/mixin.scss";
    .face-wrap {
        position: relative;
        width: 100%;
        height: 200px;
        .face-slider {
            @include position-absolute;
            .face-page{
                display: block;
                height: 100%;
            }
        }
    }

    .face-page {
        padding-top: 10px;
        overflow: auto;
        .face-box {
            display: inline-block;
            width: 14.2857%;
            height: 50px;
            line-height: 50px;
            position: relative;
            .face {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                width: 28px;
                height: 28px;
                font-size: 0;
                text-indent: -999em;
                cursor: pointer;
                background-image: url(../../../../../../configs/face/face-sprite.png);
                background-repeat: no-repeat;
                background-attachment: scroll;
                background-size: 28px;
            }
            .face0{background-position:0 0px;}
            .face1{background-position:0 -28px;}
            .face2{background-position:0 -56px;}
            .face3{background-position:0 -84px;}
            .face4{background-position:0 -112px;}
            .face5{background-position:0 -140px;}
            .face6{background-position:0 -168px;}
            .face7{background-position:0 -196px;}
            .face8{background-position:0 -224px;}
            .face9{background-position:0 -252px;}
            .face10{background-position:0 -280px;}
            .face11{background-position:0 -308px;}
            .face12{background-position:0 -336px;}
            .face13{background-position:0 -364px;}
            .face14{background-position:0 -392px;}
            .face15{background-position:0 -420px;}
            .face16{background-position:0 -448px;}
            .face17{background-position:0 -476px;}
            .face18{background-position:0 -504px;}
            .face19{background-position:0 -532px;}
            .face20{background-position:0 -560px;}
            .face21{background-position:0 -588px;}
            .face22{background-position:0 -616px;}
            .face23{background-position:0 -644px;}
            .face24{background-position:0 -672px;}
            .face25{background-position:0 -700px;}
            .face26{background-position:0 -728px;}
            .face27{background-position:0 -756px;}
            .face28{background-position:0 -784px;}
            .face29{background-position:0 -812px;}
            .face30{background-position:0 -840px;}
            .face31{background-position:0 -868px;}
            .face32{background-position:0 -896px;}
            .face33{background-position:0 -924px;}
            .face34{background-position:0 -952px;}
            .face35{background-position:0 -980px;}
            .face36{background-position:0 -1008px;}
            .face37{background-position:0 -1036px;}
            .face38{background-position:0 -1064px;}
            .face39{background-position:0 -1092px;}
            .face40{background-position:0 -1120px;}
            .face41{background-position:0 -1148px;}
            .face42{background-position:0 -1176px;}
            .face43{background-position:0 -1204px;}
            .face44{background-position:0 -1232px;}
            .face45{background-position:0 -1260px;}
            .face46{background-position:0 -1288px;}
            .face47{background-position:0 -1316px;}
            .face48{background-position:0 -1344px;}
            .face49{background-position:0 -1372px;}
            .face50{background-position:0 -1400px;}
            .face51{background-position:0 -1428px;}
            .face52{background-position:0 -1456px;}
            .face53{background-position:0 -1484px;}
            .face54{background-position:0 -1512px;}
            .face55{background-position:0 -1540px;}
            .face56{background-position:0 -1568px;}
            .face57{background-position:0 -1596px;}
            .face58{background-position:0 -1624px;}
            .face59{background-position:0 -1652px;}
            .face60{background-position:0 -1680px;}
            .face61{background-position:0 -1708px;}
            .face62{background-position:0 -1736px;}
            .face63{background-position:0 -1764px;}
            .face64{background-position:0 -1792px;}
            .face65{background-position:0 -1820px;}
            .face66{background-position:0 -1848px;}
            .face67{background-position:0 -1876px;}
            .face68{background-position:0 -1904px;}
            .face69{background-position:0 -1932px;}
            .face70{background-position:0 -1960px;}
            .face71{background-position:0 -1988px;}
            .face72{background-position:0 -2016px;}
            .face73{background-position:0 -2044px;}
            .face74{background-position:0 -2072px;}
            .face75{background-position:0 -2100px;}
            .face76{background-position:0 -2128px;}
            .face77{background-position:0 -2156px;}
            .face78{background-position:0 -2184px;}
            .face79{background-position:0 -2212px;}
            .face80{background-position:0 -2240px;}
            .face81{background-position:0 -2268px;}
            .face82{background-position:0 -2296px;}
            .face83{background-position:0 -2324px;}
            .face84{background-position:0 -2352px;}
            .face85{background-position:0 -2380px;}
            .face86{background-position:0 -2408px;}
            .face87{background-position:0 -2436px;}
            .face88{background-position:0 -2464px;}
            .face89{background-position:0 -2492px;}
            .face90{background-position:0 -2520px;}
            .face91{background-position:0 -2548px;}
            .face92{background-position:0 -2576px;}
            .face93{background-position:0 -2604px;}
            .face94{background-position:0 -2632px;}
            .face95{background-position:0 -2660px;}
            .face96{background-position:0 -2688px;}
            .face97{background-position:0 -2716px;}
            .face98{background-position:0 -2744px;}
            .face99{background-position:0 -2772px;}
            .face100{background-position:0 -2800px;}
            .face101{background-position:0 -2828px;}
            .face102{background-position:0 -2856px;}
            .face103{background-position:0 -2884px;}
            .face104{background-position:0 -2912px;}
        }
    }    
</style>

<template>
    <div class="face-wrap" v-show="opened">
        <slider class='face-slider' ref="slider" :click="true" :dotType="1" >
            <div class="face-page" v-for=" pfarr in farr">
                <div v-for="face in pfarr" class="face-box">
                    <a type="face" 
                        :title="face.text" 
                        :class="['face', face.name]" 
                        @click="emitFaceSelect(face.text)">
                        {{face.text}}
                    </a>
                </div>
            </div>
        </slider>
    </div>
</template>

<script>
    import faceConf from 'src/configs/face/face-conf.js'

    export default {
        name: 'face-area',
        props: {
            opened: {
                type: Boolean
            }
        },
        data() {
            return {
                farr: faceConf.arr
            }
        },
        methods: {
            emitFaceSelect(faceText) {
                app.event.emit("selectFace",  `[${faceText}]`)
            }
        },
        watch: {
            opened: function() {
                if (this.opened){
                    this.$nextTick(() => {
                        this.$refs.slider._setSliderUI()
                        this.$refs.slider.refresh()
                    });
                }
            }
        }
    }
</script>

